(this.webpackJsonpfirstapp=this.webpackJsonpfirstapp||[]).push([[0],{11:function(e,t,a){var n=a(17).password,r=a(219);e.exports={encryptObject:function(e){return r.AES.encrypt(JSON.stringify(e),n).toString()},decrptObject:function(e){var t=r.AES.decrypt(e,n);return JSON.parse(t.toString(r.enc.Utf8))}}},17:function(e,t){e.exports={server:"",host:"/api",files_url:"/static/",password:"fLf3450asrxvae_zx_3q343543Xxsdkvdsl_zczxm"}},308:function(e,t,a){var n=a(17).password,r=a(219);e.exports={encryptToken:function(e){return r.AES.encrypt(e,n).toString()},decryptToken:function(e){return r.AES.decrypt(e,n).toString(r.enc.Utf8)}}},320:function(e,t,a){e.exports=a(648)},325:function(e,t,a){},326:function(e,t,a){},416:function(e,t){},418:function(e,t){},449:function(e,t){},450:function(e,t){},515:function(e,t,a){},648:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),l=a.n(c),s=(a(325),a(7)),i=(a(326),a(19)),m=a(16),o=r.a.createContext(),d=r.a.createContext(),u=(r.a.createContext(),r.a.createContext(),r.a.createContext(),r.a.createContext()),p=a(2),E={state:[],loading:!0,error:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EMPLOYEES":return{state:t.payload,loading:!1,error:!1};case"LOADING_EMPLOYEES":return Object(p.a)({},e,{loading:!0});default:return Object(p.a)({},e,{loading:!1,error:!0})}},g={state:[],loading:!0,error:!1},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DEPARTMENT":return{state:t.payload,loading:!1,error:!1};case"LOADING_DEPARTMENT":return Object(p.a)({},e,{loading:!0});default:return Object(p.a)({},e,{loading:!1,error:!0})}},b={state:[],loading:!0,error:!1},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PLACES":return{state:t.payload,loading:!1,error:!1};case"LOADING_PLACES":return Object(p.a)({},e,{loading:!0});default:return Object(p.a)({},e,{loading:!1,error:!0})}},h={state:[],loading:!0,error:!1},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_USERS":return{state:t.payload,loading:!1,error:!1};case"LOADING_USERS":return Object(p.a)({},e,{loading:!0});default:return Object(p.a)({},e,{loading:!1,error:!0})}},x={state:[],loading:!0,error:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FIELDALLOWANCE":return{state:t.payload,loading:!1,error:!1};case"LOADING_FIELDALLOWANCE":return Object(p.a)({},e,{loading:!0});default:return Object(p.a)({},e,{loading:!1,error:!0})}},O=a(306),j=a.n(O),w={state:[],loading:!0,error:!1},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CONFIG":return{state:t.payload,loading:!1,error:!1};case"LOADING_CONFIG":return Object(p.a)({},e,{loading:!0});default:return Object(p.a)({},e,{loading:!1,error:!0})}},S={state:[],loading:!0,error:!1},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COMPANY":return{state:t.payload,loading:!1,error:!1};case"LOADING_COMPANY":return Object(p.a)({},e,{loading:!0});default:return Object(p.a)({},e,{loading:!1,error:!0})}},A=a(3),k=a(4),D=a(6),I=a(32),R=a(42),P=a(41),T=a(43),M=function(e,t){var a=[],n={};for(var r in e)n[e[r][t]]=e[r];for(r in n)a.push(n[r]);return a},U=function(e){function t(e,a){var n;return Object(I.a)(this,t),(n=Object(R.a)(this,Object(P.a)(t).call(this,a))).Filter=function(e){return n.employees.filter((function(t){return t.emp_id===e}))},n.UnFilter=function(e){return n.employees.filter((function(t){return t.emp_id!==e}))},n.Find=function(e){return n.employees.find((function(t){return t.emp_id===e}))},n.getUserInfo=function(e){return n.employees.find((function(t){return t._id===e}))},n.Name=function(e){return(n.Find(e)?n.Find(e).first_name:"")+" "+(n.Find(e)?n.Find(e).middle_name:"")+" "+(n.Find(e)?n.Find(e).last_name:"")},n.Emp_id=function(e){return n.Find(e)?n.Find(e).emp_id:""},n.Department=function(e){return n.Find(e)?n.dpName(n.Find(e).department):""},n.UserRole=function(e){return n.Find(e)?n.Find(e).type:""},n.findUser=function(e){return!!n.Filter(e).length},n.Salary=function(e){return n.Find(e)?n.Find(e).salary:0},n.position=function(e){return n.isOfficial(e)?n.Find(e).position:""},n.messageName=function(e){return n.Name(e).split(" ")[0]+" "+n.Name(e).split(" ")[1]},n.firstLetters=function(e){return(n.messageName(e).split(" ")[0].slice(0,1)+n.messageName(e).split(" ")[1].slice(0,1)).toUpperCase()},n.searchEmployee=function(e,t){var a=e.toString().toLowerCase(),r=t||n.employees,c=r.filter((function(e){return e.emp_id.toString().toLowerCase().includes(a,0)})),l=r.filter((function(e){return n.Name(e.emp_id).toString().toLowerCase().includes(a,0)})),s=n.department.filter((function(e){return e.name.toString().toLowerCase().includes(a,0)})),i=r.filter((function(e){return e.position.toString().toLowerCase().includes(a,0)}));return M([].concat(Object(D.a)(l),Object(D.a)(s),Object(D.a)(c),Object(D.a)(i)),"_id")},n.employees=e,n}return Object(T.a)(t,e),t}((function e(t){var a=this;Object(I.a)(this,e),this.find=function(e){return a.department.find((function(t){return t._id===e}))},this.dpName=function(e){return a.find(e)?a.find(e).name:""},this.department=t})),F=function(e){function t(e,a,n){var r;return Object(I.a)(this,t),(r=Object(R.a)(this,Object(P.a)(t).call(this,a,n))).getId=function(e){var t=e||localStorage.id,a=r.users.find((function(e){return e._id===t})),n=a||{emp_id:""},c=r.Find(n.emp_id);return c?c._id:""},r.getEmp_id=function(e){var t=e||localStorage.id,a=r.users.find((function(e){return e._id===t}));return(a||{emp_id:""}).emp_id},r.position=function(e){return r.employees.filter((function(t){return t.position===e&&r.getEmp_id()!==t.emp_id}))},r.canApprove=function(e){return!!r.Find(e||r.getEmp_id())&&"Manager"===r.Find(e||r.getEmp_id()).type},r.employeeSearch=function(e,t){return e.filter((function(e){return e.type===t&&r.getEmp_id()!==e.emp_id}))},r.ContactSearch=function(e){var t=e.toString().toLowerCase(),a=r.employees.filter((function(e){return e.emp_id.toString().toLowerCase().includes(t,0)})),n=r.employees.filter((function(e){return r.Name(e.emp_id).toString().toLowerCase().includes(t,0)})),c=r.employees.filter((function(e){return e.department.toString().toLowerCase().includes(t,0)})),l=M([].concat(Object(D.a)(a),Object(D.a)(n),Object(D.a)(c)),"_id");return{employees:M([].concat(Object(D.a)(r.employeeSearch(l,"employee")),Object(D.a)(r.employeeSearch(l,"f_employee"))),"_id"),directors:r.employeeSearch(l,"director"),f_director:r.employeeSearch(l,"f_director"),team_leaders:M([].concat(Object(D.a)(r.employeeSearch(l,"f_team_leader")),Object(D.a)(r.employeeSearch(l,"team_leader"))),"_id"),sector_leaders:r.employeeSearch(l,"sector_leader"),f_sector_leader:r.employeeSearch(l,"f_sector_leader"),commisioner:r.employeeSearch(l,"senior_officer")}},r.users=e,r}return Object(T.a)(t,e),t}(U),z=a(178),G=a.n(z),q=Object(m.f)((function(e){var t=Object(n.useState)({search:"",toggleButton:"",title:"Shemsu Medebir",screen:0,acivateProfile:"",profileOpener:""}),a=Object(s.a)(t,2),c=a[0],l=a[1],m=Object(n.useContext)(o),u=m.togglers,E=m.uiContents,f=m.uiContents,g=f.collapse,v=f.headertheme,b=localStorage,N=b.user_type,h=b.token,_=Object(n.useContext)(d),x=_.socket,y=_.department,O=_.employees,j=_.users,w=(O.state,O.loading,j.state,j.loading,new F(j.state,O.state,y.state));Object(n.useEffect)((function(){"system_admin"!==N&&h||e.history.push("/login.html");var t=window.screen.width;l(Object(p.a)({},c,{screen:t})),t<=892&&u(Object(p.a)({},E,{collapse:"closed-sidebar-mobile closed-sidebar"}))}),[N,h]);var C=function(){var e=""===c.toggleButton?"is-active":"",t=window.screen.width<=892?"closed-sidebar-mobile closed-sidebar"===g?"closed-sidebar-mobile closed-sidebar sidebar-mobile-open":"closed-sidebar-mobile closed-sidebar":""===g?"closed-sidebar":"";u(Object(p.a)({},E,{collapse:t})),l(Object(p.a)({},c,{toggleButton:e}))};return r.a.createElement("div",{className:"app-header header-shadow "+v},r.a.createElement("div",{className:"app-header__logo"},r.a.createElement("h2",{className:"font-weight-bold show"},"Webook",r.a.createElement(A.a,{icon:k.d,className:"mx-2"})),r.a.createElement("div",{className:"header__pane ml-auto"},r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"hamburger close-sidebar-btn hamburger--elastic "+c.toggleButton,"data-classname":"closed-sidebar",onClick:function(){return C()}},r.a.createElement("span",{className:"hamburger-box"},r.a.createElement("span",{className:"hamburger-inner"})))))),r.a.createElement("div",{className:"app-header__mobile-menu"},r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"hamburger hamburger--elastic mobile-toggle-nav",onClick:function(){return C()}},r.a.createElement("span",{className:"hamburger-box"},r.a.createElement("span",{className:"hamburger-inner"}))))),r.a.createElement("div",{className:"app-header__menu"},r.a.createElement("span",null,r.a.createElement("button",{type:"button",className:"btn-icon btn-icon-only btn btn-primary btn-sm mobile-toggle-header-nav "+c.acivateProfile,onClick:function(){return function(){var e=c.acivateProfile,t=c.profileOpener,a=window.screen.width,n=a<=892&&""===e?"active":"",r=a<=892&&""===t?"header-mobile-open":"";l(Object(p.a)({},c,{acivateProfile:n,profileOpener:r}))}()}},r.a.createElement("span",{className:"btn-icon-wrapper"},r.a.createElement("i",{className:"fa fa-ellipsis-v fa-w-6"}))))),r.a.createElement("div",{className:"app-header__content "+c.profileOpener},r.a.createElement("div",{className:"app-header-left"},r.a.createElement("ul",{className:"header-menu nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(i.c,{to:"/contacts",className:"nav-link"},r.a.createElement(A.a,{icon:k.C,className:"nav-link-icon"}),"Contact")))),r.a.createElement("div",{className:"app-header-right"},r.a.createElement("div",{className:"header-btn-lg pr-0"},r.a.createElement("div",{className:"widget-content p-0"},r.a.createElement("div",{className:"widget-content-wrapper"},r.a.createElement("div",{className:"widget-content-left"},r.a.createElement("div",{className:"btn-group"},r.a.createElement("div",{"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",className:"p-0 btn"},r.a.createElement("h4",{className:"font-weight-bold"},"[W]",r.a.createElement("i",{className:"fa fa-angle-down ml-2 opacity-8"}))),r.a.createElement("div",{tabIndex:"-1",role:"menu","aria-hidden":"true",className:"dropdown-menu dropdown-menu-right"},r.a.createElement("button",{type:"button",onClick:function(){return function(e,t,a){localStorage.removeItem("id"),localStorage.removeItem("token"),localStorage.removeItem("auth"),localStorage.removeItem("user_type"),localStorage.removeItem("emp_id"),t.emit("disConnect",{emp_id:a}),e.history.push("/login.html")}(e,x,w.getEmp_id)},tabIndex:"0",className:"dropdown-item"},"Logout")))),r.a.createElement("div",{className:"widget-content-left  ml-3 header-user-info"},r.a.createElement("div",{className:"widget-heading"},w.Name(w.getEmp_id())),r.a.createElement("div",{className:"widget-subheading"},w.Department(w.getEmp_id())," ",w.UserRole(w.getEmp_id()))),r.a.createElement("div",{className:"widget-content-right header-user-info ml-3"},r.a.createElement("button",{type:"button",className:"btn-shadow p-1 btn  btn-sm show-toastr-example"},r.a.createElement("p",{"data-letters":w.firstLetters(w.getEmp_id())})))))))))})),B=a(8),Y=a.n(B),W=a(21),K=a.n(W),J=a(17),V=a(11),H=a(308),X=function(){var e=localStorage,t=e.user_type,a=e.token;return{token:Object(H.decryptToken)(a),user_type:t}},$=function(){var e,t;return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Y.a.awrap(K.a.get(J.host+"/employee",{headers:{data:Object(V.encryptObject)(X())}}));case 2:return e=a.sent,t=Object(V.decrptObject)(e.data),a.abrupt("return",t);case 5:case"end":return a.stop()}}))},Q=function(e){return{type:"ADD_EMPLOYEES",payload:e}},Z=function(){var e=Object(n.useContext)(d).dispatchEmployees;return Object(n.useEffect)((function(){!function(){var t;Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e({type:"LOADING_EMPLOYEES"}),a.next=4,Y.a.awrap($());case 4:t=a.sent,e(Q(t)),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0),e({type:"ERROR"});case 12:case"end":return a.stop()}}),null,null,[[0,8]])}()}),[e]),r.a.createElement("p",null)},ee=function(){var e,t;return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Y.a.awrap(K.a.get(J.host+"/users",{headers:{data:Object(V.encryptObject)(X())}}));case 2:return e=a.sent,t=Object(V.decrptObject)(e.data),a.abrupt("return",t);case 5:case"end":return a.stop()}}))},te=function(){var e=Object(n.useContext)(d).dispatchUsers;return Object(n.useEffect)((function(){!function(){var t;Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e({type:"LOADING_USERS"}),a.next=4,Y.a.awrap(ee());case 4:t=a.sent,e({type:"ADD_USERS",payload:t}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),e({type:"ERROR"});case 11:case"end":return a.stop()}}),null,null,[[0,8]])}()}),[e]),r.a.createElement("p",null)},ae=function(){var e,t;return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Y.a.awrap(K.a.get(J.host+"/company",{headers:{data:Object(V.encryptObject)(X())}}));case 2:return e=a.sent,t=Object(V.decrptObject)(e.data),a.abrupt("return",t);case 5:case"end":return a.stop()}}))},ne=function(){var e=Object(n.useContext)(d).dispatchCompany;return Object(n.useEffect)((function(){!function(){var t;Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:"LOADING_COMPANY"}),a.prev=1,a.next=4,Y.a.awrap(ae());case 4:t=a.sent,e({type:"ADD_COMPANY",payload:t}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e({type:"ERROR"});case 11:case"end":return a.stop()}}),null,null,[[1,8]])}()}),[e]),r.a.createElement("p",null)},re=a(309),ce=function(e,t){switch(e){case"initial":return{error:"",success:"",process:t,disable:!0,loading:!0};case"error":return{error:t,success:"",process:"",disable:!1,loading:!1};case"success":return{error:"",success:t,process:"",disable:!1,loading:!1};default:return{error:"",success:"",process:"",disable:!1,loading:!1}}},le=function(){},se=function(e){return Math.round(100*e)/100},ie=G()(J.server,{reconnection:!0}),me=function(){var e,t;return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Y.a.awrap(K.a.get(J.host+"/letters",{headers:{data:Object(V.encryptObject)(X())}}));case 2:return e=a.sent,t=Object(V.decrptObject)(e.data),a.abrupt("return",t);case 5:case"end":return a.stop()}}))},oe=function(){var e=Object(n.useContext)(d),t=e.socket,a=e.dispatchMessages,c=e.dispatchConnections,l=e.dispatchLetters,s=e.setTyping,i=e.setLTyping,m=e.setSocket,o=e.department,u=e.employees,p=e.users;m(ie);var E=Object(n.useContext)(d);Object(re.a)(E);u.state;var f=u.loading,g=(p.state,p.loading,new F(p.state,u.state,o.state));return Object(n.useEffect)((function(){try{t?t.emit("onConnect",{emp_id:g.getEmp_id()}):le(),t?t.emit("users",""):le(),t?t.on("users",(function(e){return c({type:"ADD_CONNECTIONS",payload:e})})):le(),t?t.emit("chat",""):le(),t?t.on("chat",(function(e){return a({type:"ADD_MESSAGES",payload:e})})):le(),t?t.on("typing",(function(e){return s(e.emp_id)})):le(),t?t.on("typing_letter",(function(e){return i(e.emp_id)})):le(),t?t.emit("letters",""):le(),t?t.on("letters",(function(e){return l({type:"ADD_LETTERS",payload:e})})):le()}catch(e){c({type:"Error"}),a({type:"Error"})}}),[t,f]),r.a.createElement("div",null)},de=function(){var e,t;return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Y.a.awrap(K.a.get(J.host+"/department",{headers:{data:Object(V.encryptObject)(X())}}));case 2:return e=a.sent,t=Object(V.decrptObject)(e.data),a.abrupt("return",t);case 5:case"end":return a.stop()}}))},ue=function(){var e=Object(n.useContext)(d).dispatchDepartment;return Object(n.useEffect)((function(){!function(){var t;Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:"LOADING_DEPARTMENT"}),a.prev=1,a.next=4,Y.a.awrap(de());case 4:t=a.sent,e({type:"ADD_DEPARTMENT",payload:t}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e({type:"ERROR"});case 11:case"end":return a.stop()}}),null,null,[[1,8]])}()}),[e]),r.a.createElement("div",null)},pe=function(){var e=Object(n.useContext)(d),t=(e.setSocket,e.users),a=e.employees,c=e.department,l=Object(n.useContext)(o).uiContents.sidetheme;new F(t.state,a.state,c.state);return r.a.createElement("div",{className:"app-sidebar sidebar-shadow "+l},r.a.createElement("div",{className:"app-header__logo"},r.a.createElement(ue,null),r.a.createElement(Z,null),r.a.createElement(ne,null),r.a.createElement(te,null),r.a.createElement(oe,null),r.a.createElement("div",{className:"header__pane ml-auto"},r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"hamburger close-sidebar-btn hamburger--elastic","data-classname":"closed-sidebar"},r.a.createElement("span",{className:"hamburger-box"},r.a.createElement("span",{className:"hamburger-inner"})))))),r.a.createElement("div",{className:"app-header__mobile-menu"},r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"hamburger hamburger--elastic mobile-toggle-nav"},r.a.createElement("span",{className:"hamburger-box"},r.a.createElement("span",{className:"hamburger-inner"}))))),r.a.createElement("div",{className:"app-header__menu"},r.a.createElement("span",null,r.a.createElement("button",{type:"button",className:"btn-icon btn-icon-only btn btn-primary btn-sm mobile-toggle-header-nav"},r.a.createElement("span",{className:"btn-icon-wrapper"},r.a.createElement("i",{className:"fa fa-ellipsis-v fa-w-6"})))))," ",r.a.createElement("div",{className:"scrollbar-sidebar"},r.a.createElement("div",{className:"app-sidebar__inner"},r.a.createElement("ul",{className:"vertical-nav-menu"},r.a.createElement("li",{className:"app-sidebar__heading"},"Webook"),r.a.createElement("li",{className:"app-sidebar__heading"},r.a.createElement(A.a,{icon:k.A,className:"metismenu-icon pe-7s-diamond fa-2x text-info mx-2"}),"Document"),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/inbox"},r.a.createElement("i",{className:"metismenu-icon pe-7s-display2"}),r.a.createElement("p",{className:"font-weight-bold"},"Letter"))),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/message"},r.a.createElement("i",{className:"metismenu-icon pe-7s-display2"}),r.a.createElement("p",{className:"font-weight-bold"},"message"))),r.a.createElement("li",{className:"app-sidebar__heading"},r.a.createElement(A.a,{icon:k.O,className:"metismenu-icon pe-7s-diamond fa-2x text-info mx-2"}),"Employess"),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/contact"},r.a.createElement("i",{className:"metismenu-icon pe-7s-display2"}),r.a.createElement("p",{className:"font-weight-bold"},"contact"))),r.a.createElement("li",null)))))},Ee=(a(515),function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"bounce1"}),r.a.createElement("div",{className:"bounce2"}),r.a.createElement("div",{className:"bounce3"}))}),fe=function(){var e=Object(n.useState)({collapse:""}),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(d).company,i=l.state;l.loading,l.error,i[0];return r.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+a.collapse},r.a.createElement(o.Provider,{value:{uiContents:a,togglers:c}},r.a.createElement(q,null),r.a.createElement("div",{className:"app-main"},r.a.createElement(pe,null))))},ge=a(315),ve=a.n(ge),be=a(76),Ne=(a(516),function(){var e,t;return Y.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Y.a.awrap(K.a.get(J.host+"/date"));case 2:return e=a.sent,t=new Date(e.data.date),a.abrupt("return",t.toISOString());case 5:case"end":return a.stop()}}))}),he=function(e,t){var a=new Date(e);return(new Date(t).getTime()-a.getTime())/864e5},_e=function(e){return new Date(e).toUTCString().slice(0,16)},xe=function(e,t,a,n,r,c){var l=n||1,s=r||0,i=c||0,m=new be.ethDateTime(e,t,a,l,s,i);return new Date(be.converterDateTime.toEuropean(m)).toISOString()},ye=function(e){var t=new Date(e),a=parseInt(t.getUTCDay()),n=1===a?"\u1230\u129e":2===a?"\u121b\u12ad\u1230\u129e":3===a?"\u1228\u1261\u12d5":4===a?"\u1210\u1219\u1235":5===a?"\u12a0\u122d\u1265":6===a?"\u1245\u12f3\u121c":7===a?"\u12a5\u1201\u12f5":"",r=parseInt(be.converterDateTime.toEthiopian(t).month);return n+" "+parseInt(be.converterDateTime.toEthiopian(t).date)+" "+(1===r?"\u1218\u1235\u12a8\u1228\u121d":2===r?"\u1325\u1245\u121d\u1275":3===r?"\u1205\u12f3\u122d":4===r?"\u1273\u1205\u1233\u1235":5===r?"\u1325\u122d":6===r?"\u12e8\u12ab\u1272\u1275":7===r?"\u1218\u130b\u1262\u1275":8===r?"\u121a\u12eb\u12dd\u12eb":9===r?"\u130d\u1295\u1266\u1275":10===r?"\u1230\u1294":11===r?"\u1210\u121d\u120c":12===r?"\u1290\u1210\u1234":13===r?"\u1333\u1309\u121c":"")+" "+be.converterDateTime.toEthiopian(t).year},Oe=function(e){var t=new Date(e);return be.converterDateTime.toEthiopian(t)},je=function(e){var t=new Date(e).toLocaleTimeString().split(":"),a=t[2].split(" ");return t[0]+":"+t[1]+" "+(a[1]?a[1]:"")},we=function(e){return _e(e).split(",")[1]},Ce=a(75),Se=function(e){function t(e,a,n,r){var c;return Object(I.a)(this,t),(c=Object(R.a)(this,Object(P.a)(t).call(this,a,n,r))).find_letter=function(e){return c.letters.find((function(t){return t._id===e}))},c.description=function(e){return c.find_letter(e)?JSON.parse(c.find_letter(e).description):""},c.editorState=function(e){return c.description(e)?Ce.EditorState.createWithContent(Object(Ce.convertFromRaw)(c.description(e))):Ce.EditorState.createEmpty()},c.description_text=function(e){return c.description(e)?c.description(e).blocks[0]?c.description(e).blocks[0].text:c.description(e).blocks[1].text:""},c.title=function(e){return c.find_letter(e)?c.find_letter(e).title:""},c.approval_managers=function(e){return c.find_letter(e)?c.find_letter(e).approval_manager:[]},c.manager_info=function(e,t){return c.approval_managers(e).find((function(e){var a=t||c.getEmp_id();return e.emp_id===a}))},c.participants=function(e){return c.find_letter(e)?c.find_letter(e).participants:[]},c.particpant_info=function(e,t){return c.participants(e).find((function(e){var a=t||c.getEmp_id();return e.emp_id===a}))},c.need_approval=function(e){return c.approval_managers(e).filter((function(e){return"waiting"===e.status}))},c.first_manager=function(e){var t=Math.min.apply(null,c.approval_managers(e).map((function(e){return e.step})));return c.approval_managers(e).filter((function(e){return e.step===t}))},c.isApproval=function(e,t){return!!c.manager_info(e,t)},c.isParticipant=function(e,t){return!!c.particpant_info(e,t)},c.approvalStep=function(e,t){return c.manager_info(e,t)?c.manager_info(e,t).step:null},c.needsApproval=function(e,t){return!!c.need_approval(e).find((function(e){return e.emp_id===t?t:c.getEmp_id()}))},c.approvedManagers=function(e){return c.approval_managers(e).filter((function(e){return"Approved"===e.status}))},c.sameStage=function(e,t){return c.approval_managers(e).filter((function(a){return a.step===c.approvalStep(e,t)&&a.emp_id!==c.getEmp_id()}))},c.proceedStage=function(e,t){return!c.sameStage(e,t).find((function(e){return"waiting"===e.status||"unApproved"===e.status}))},c.nextEmployee=function(e,t){var a=c.approval_managers(e).filter((function(a){return a.step!==c.approvalStep(e,t)&&"Approved"!==a.status})),n=Math.min.apply(null,a.map((function(e){return e.step})));return c.approval_managers(e).filter((function(e){return e.step===n}))},c.outBox=function(){return c.letters.filter((function(e){return e.creater===c.getEmp_id()}))},c.searchLetters=function(e){var t=e.toString().toLowerCase(),a=c.outBox().filter((function(e){return e.id.toString().toLowerCase().includes(t,0)})),n=c.outBox().filter((function(e){return e.title.toString().toLowerCase().includes(t,0)})),r=c.outBox().filter((function(e){return e.type.toString().toLowerCase().includes(t,0)}));return M([].concat(Object(D.a)(a),Object(D.a)(n),Object(D.a)(r)),"_id")},c.rank=function(e){return"Approved"===e?1:"waiting"===e?.5:0},c.progress=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return c.approval_managers(e).map((function(e){e.seen&&"waiting"===e.status?t+=c.rank(e.status):"waiting"===e.status?le():t+=c.rank(e.status)})),t},c.totallProgress=function(e){return se(c.progress(e)/c.approval_managers(e).length*100)},c.isModifiable=function(e){return!!c.approval_managers(e).find((function(e){return"unApproved"===e.status}))||0===c.progress(e)},c.isApprovable=function(e,t){return console.log(c.participants(e).find((function(e){return e.seen}))),!c.approval_managers(e).find((function(e){return"unApproved"===e.status&&e.emp_id!==c.getEmp_id()}))&&(!c.approval_managers(e).find((function(a){return a.step>c.approvalStep(e,t)&&"Approved"===a.status}))&&(c.participants(e).find((function(e){return e.seen})),!0))},c.unApproved=function(e){return c.approval_managers(e).filter((function(e){return"unApproved"===e.status}))},c.letters=e,c}return Object(T.a)(t,e),t}(F),Le=function(e){function t(e,a,n,r,c){var l;return Object(I.a)(this,t),(l=Object(R.a)(this,Object(P.a)(t).call(this,a,n,r,c))).findConnected=function(e){return l.users.find((function(t){return t.emp_id===e}))},l.onlineUsers=function(){return l.users.filter((function(e){return"connected"===e.status}))},l.isOnline=function(e){return!!l.onlineUsers().find((function(t){return t.emp_id===e}))},l.lastSeen=function(e){return l.findConnected(e)?l.findConnected(e).disconnected_time:""},l.myMessage=function(){return l.message.filter((function(e){return e.sender===l.getEmp_id()||e.reciever===l.getEmp_id()}))},l.contactedUsers=function(){var e=[];l.myMessage().map((function(t){t.sender!==l.getEmp_id()?e.push(t.sender):t.reciever!==l.getEmp_id()?e.push(t.reciever):le()}));var t=new Set(e);return Object(D.a)(t)},l.searchContacted=function(e){var t=e.toString().toLowerCase();return l.contactedUsers().filter((function(e){return l.messageName(e).toString().toLowerCase().includes(t,0)}))},l.chatRoom=function(e){return l.myMessage().filter((function(t){return t.sender===e||t.reciever===e}))},l.newMessages=function(e){return l.chatRoom(e).filter((function(e){return!e.seen&&e.reciever===l.getEmp_id()}))},l.last_message=function(e){return l.chatRoom(e).length?l.chatRoom(e)[0]:{message:"",file_name:"",letter_id:"",created_date:""}},l.notifiaction=function(){var e=0;return l.contactedUsers().map((function(t){e+=l.newMessages(t).length})),e},l.InboxLetters=function(){var e=l.message.filter((function(e){return e.reciever===l.getEmp_id()&&""!==e.letter_id}));return console.log(e),e.map((function(e){return l.find_letter(e.letter_id)}))},l.SearchLetters=function(e){var t=e.toString().toLowerCase(),a=l.InboxLetters().filter((function(e){return e.id.toString().toLowerCase().includes(t,0)})),n=l.InboxLetters().filter((function(e){return e.title.toString().toLowerCase().includes(t,0)})),r=l.InboxLetters().filter((function(e){return e.type.toString().toLowerCase().includes(t,0)})),c=M([].concat(Object(D.a)(a),Object(D.a)(n),Object(D.a)(r)),"_id");return{newLetters:c.filter((function(e){return l.manager_info(e?e._id:"")?!l.manager_info(e._id).seen:!!l.particpant_info(e?e._id:"")&&!l.particpant_info(e._id).seen})),seenLetters:c.filter((function(e){return l.manager_info(e?e._id:"")?l.manager_info(e._id).seen:!!l.particpant_info(e?e._id:"")&&l.particpant_info(e._id).seen}))}},l.newInboxLetters=function(){return l.InboxLetters().filter((function(e){return l.manager_info(e?e._id:"")?!l.manager_info(e?e._id:"").seen:!!l.particpant_info(e?e._id:"")&&!l.particpant_info(e?e._id:"").seen}))},l.seenInboxLetters=function(){return l.InboxLetters().filter((function(e){return l.manager_info(e?e._id:"")?l.manager_info(e?e._id:"").seen:!!l.particpant_info(e?e._id:"")&&l.particpant_info(e?e._id:"").seen}))},l.allowanceLetter=function(){return l.InboxLetters().filter((function(e){return"allowance"===e.type}))},l.message=e,l}return Object(T.a)(t,e),t}(Se),Ae=function(){return r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"main-card mb-3 min-height card"},r.a.createElement("h3",{className:"text-center"},"Loading..."),r.a.createElement(Ee,{className:"mt-5"})))},ke=function(){return r.a.createElement("div",{className:"col-lg-12 "},r.a.createElement("div",{className:"main-card mb-3 min-height card"},r.a.createElement("h3",{className:"mt-5 text-center text-danger"},r.a.createElement(A.a,{icon:k.P,className:"fa-2x"}),r.a.createElement("br",null),"...oops loading failed the server is down or not active contact admin")))},De=a(62),Ie=a.n(De),Re=a(64),Pe=a.n(Re),Te=a(63),Me=a.n(Te),Ue=a(657),Fe=Object(m.f)((function(){var e=Object(n.useContext)(u),t=e.values,a=e.setValues,c=t.type,l=t.step;return r.a.createElement("div",{className:"container my-4"},r.a.createElement("div",{className:"row card"},r.a.createElement("div",{className:"col-lg-12 mb-2"},r.a.createElement("h2",{className:"text-center"},"Please select letter type"),r.a.createElement("hr",null)),r.a.createElement("div",{className:"col-lg-12 text-center my-2",onClick:function(){return a(Object(p.a)({},t,{type:"allowance"}))}}),r.a.createElement("div",{className:"col-lg-12 text-center my-2",onClick:function(){return a(Object(p.a)({},t,{type:"normal"}))}},"normal"===c?r.a.createElement("button",{className:"btn btn-info"},r.a.createElement("h3",null,r.a.createElement(A.a,{icon:k.r,className:"mx-2"}),"Normal letter")):r.a.createElement("button",{className:"btn"},r.a.createElement("h3",null,r.a.createElement(A.a,{icon:k.r,className:"mx-2"}),"Normal letter")))),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-lg-4"}),r.a.createElement("div",{className:"col-lg-4"}),r.a.createElement("div",{className:"col-lg-4"},c?r.a.createElement("button",{className:"btn btn-info float-right text-white",onClick:function(){return a(Object(p.a)({},t,{step:"allowance"===t.type?2:l<=2?2:t.step,tab:"allowance"===t.type?"create":l<=2?"create":3===l?"approval":4===l?"parcticpant":""}))}},r.a.createElement(A.a,{icon:k.u,className:"mx-2"}),"Next"):r.a.createElement("p",null))))})),ze=a(89),Ge=a(128),qe=(a(614),a(615),function(){var e=Object(n.useContext)(u),t=e.values,a=e.setValues,c=t.type,l=t.editorState,i=t.step,m=Object(n.useState)({error:!1,derror:!1,description:""}),o=Object(s.a)(m,2),d=o[0],E=o[1],f=Object(n.useRef)(null),g=Object(n.useRef)(null),v=function(e){var n;if(e.preventDefault(),!l){E(Object(p.a)({},t,{error:!0}));try{f.current.focus()}catch(n){console.log(n)}}else if("allowance"===c)try{var r=xe(t.idate,t.imonth,t.iyear),s=xe(t.rdate,t.rmonth,t.ryear);he(r,s)<0?(E(Object(p.a)({},d,{derror:!0})),g.current.focus()):a(Object(p.a)({},t,{step:i<=2?3:i,tab:i<=3?"approval":4===i?"parcticpant":""}))}catch(n){E(Object(p.a)({},d,{derror:!0})),g.current.focus()}else a(Object(p.a)({},t,{step:i<=2?3:i,tab:i<=3?"approval":4===i?"parcticpant":""}))};return r.a.createElement("form",{onSubmit:function(e){return v(e)}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12 text-center"},r.a.createElement("div",{className:"signup-form"},r.a.createElement("p",{className:"font-weight-bold text-center"},"Title"),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group input-container"},r.a.createElement("span",{className:"input-group-addon"},r.a.createElement("h3",null,"T")),r.a.createElement("input",{type:"text",className:"input-field form-control",placeholder:"Title",required:!0,value:t.title,onChange:function(e){return a(Object(p.a)({},t,{title:e.target.value}))}}))))),r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("p",{className:"font-weight-bold text-center"},"Description"),r.a.createElement(Ge.Editor,{toolbarClassName:"toolbarClassName",editorStyle:{marginLeft:100,width:"212mm",minHeight:450,border:"1px solid",borderColor:t.error?"red":""},wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:function(e){a(Object(p.a)({},t,{editorState:e,description:JSON.stringify(Object(Ce.convertToRaw)(e.getCurrentContent()))})),E(Object(p.a)({},t,{error:!1,derror:!1}))},editorState:l,ref:f}),d.error?r.a.createElement("p",{className:"text-center text-danger font-weight-bold"},"Please enter description"):r.a.createElement("p",null)),r.a.createElement("div",null)),"allowance"===c?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("p",{className:"font-weight-bold text-center"},"Objective"),r.a.createElement("div",{className:"input-container"},r.a.createElement(A.a,{icon:k.o,className:"text-info fa-2x mx-2 my-auto "}),r.a.createElement("input",Object(ze.a)({className:"input-field form-control my-auto",type:"text",value:t.objective,placeholder:"Objective",onChange:function(e){return a(Object(p.a)({},t,{objective:e.target.value}))},required:!0},"value",t.objective))),r.a.createElement("p",{className:"font-weight-bold text-center"},"Project name and code"),r.a.createElement("div",{className:"input-container"},r.a.createElement(A.a,{icon:k.b,className:"text-info fa-2x mx-2 my-auto "}),r.a.createElement("input",{className:"input-field form-control my-auto",type:"text",value:t.project_name,placeholder:"Project name and code",onChange:function(e){return a(Object(p.a)({},t,{project_name:e.target.value}))}})),r.a.createElement("p",{className:"font-weight-bold text-center"},"program name"),r.a.createElement("div",{className:"input-container"},r.a.createElement(A.a,{icon:k.G,className:"text-info fa-2x mx-2 my-auto "}),r.a.createElement("input",{className:"input-field form-control my-auto",type:"text",value:t.program,placeholder:"Program name",onChange:function(e){return a(Object(p.a)({},t,{program:e.target.value}))}}))),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("p",{className:"font-weight-bold text-center"},"Initial Place"),r.a.createElement("div",{className:"input-container"},r.a.createElement(A.a,{icon:k.J,className:"text-info fa-2x mx-2 my-auto "}),r.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"Initial place",onChange:function(e){return a(Object(p.a)({},t,{initial_place:e.target.value}))},values:t.initial_place,required:!0})),r.a.createElement("p",{className:"font-weight-bold text-center"},"Destination Place"),r.a.createElement("div",{className:"input-container"},r.a.createElement(A.a,{icon:k.f,className:"text-info fa-2x mx-2 my-auto "}),r.a.createElement("input",{className:"input-field form-control my-auto",type:"text",placeholder:"Destination place",onChange:function(e){return a(Object(p.a)({},t,{destination_place:e.target.value}))},value:t.destination_place,required:!0})),r.a.createElement("p",{className:"font-weight-bold text-center"},"Initial Date"),r.a.createElement("div",{className:"input-container"},r.a.createElement(A.a,{icon:k.e,className:"text-info fa-2x mx-2 my-auto "}),r.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"dd",min:1,max:30,value:t.idate,onChange:function(e){a(Object(p.a)({},t,{idate:parseInt(e.target.value)}))},required:!0}),r.a.createElement("select",{className:"input-field form-control my-auto",onChange:function(e){return a(Object(p.a)({},t,{imonth:parseInt(e.target.value),process:"",error:"",success:""}))},value:t.imonth,required:!0},r.a.createElement("option",{value:""},"mm"),r.a.createElement("option",{value:1},"\u1218\u1235\u12a8\u1228\u121d"),r.a.createElement("option",{value:2},"\u1325\u1245\u121d\u1275"),r.a.createElement("option",{value:3},"\u1205\u12f3\u122d"),r.a.createElement("option",{value:4},"\u1273\u1205\u1233\u1235"),r.a.createElement("option",{value:5},"\u1325\u122d"),r.a.createElement("option",{value:6},"\u12e8\u12ab\u1272\u1275"),r.a.createElement("option",{value:7},"\u1218\u130b\u1262\u1275"),r.a.createElement("option",{value:8},"\u121a\u12eb\u12dd\u12eb"),r.a.createElement("option",{value:9},"\u130d\u1295\u1266\u1275"),r.a.createElement("option",{value:10},"\u1230\u1294"),r.a.createElement("option",{value:11},"\u1210\u121d\u120c"),r.a.createElement("option",{value:12},"\u1290\u1210\u1234"),r.a.createElement("option",{value:13},"\u1333\u1309\u121c")),r.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"YYYY",min:2013,onChange:function(e){a(Object(p.a)({},t,{iyear:parseInt(e.target.value)}))},required:!0,value:t.iyear}),r.a.createElement("p",{className:"my-auto font-weight-bold"},"E.C")),r.a.createElement("p",{className:"font-weight-bold text-center"},"Return Date"),r.a.createElement("div",{className:"input-container"},r.a.createElement(A.a,{icon:k.e,className:"text-info fa-2x mx-2 my-auto "}),r.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"dd",min:1,max:30,value:t.rdate,onChange:function(e){a(Object(p.a)({},t,{rdate:parseInt(e.target.value)}))},required:!0,ref:g}),r.a.createElement("select",{className:"input-field form-control my-auto",value:t.rmonth,onChange:function(e){return a(Object(p.a)({},t,{rmonth:parseInt(e.target.value),process:"",error:"",success:""}))},required:!0},r.a.createElement("option",{value:""},"mm"),r.a.createElement("option",{value:1},"\u1218\u1235\u12a8\u1228\u121d"),r.a.createElement("option",{value:2},"\u1325\u1245\u121d\u1275"),r.a.createElement("option",{value:3},"\u1205\u12f3\u122d"),r.a.createElement("option",{value:4},"\u1273\u1205\u1233\u1235"),r.a.createElement("option",{value:5},"\u1325\u122d"),r.a.createElement("option",{value:6},"\u12e8\u12ab\u1272\u1275"),r.a.createElement("option",{value:7},"\u1218\u130b\u1262\u1275"),r.a.createElement("option",{value:8},"\u121a\u12eb\u12dd\u12eb"),r.a.createElement("option",{value:9},"\u130d\u1295\u1266\u1275"),r.a.createElement("option",{value:10},"\u1230\u1294"),r.a.createElement("option",{value:11},"\u1210\u121d\u120c"),r.a.createElement("option",{value:12},"\u1290\u1210\u1234"),r.a.createElement("option",{value:13},"\u1333\u1309\u121c")),r.a.createElement("input",{className:"input-field form-control my-auto",type:"number",placeholder:"YYYY",min:2013,onChange:function(e){a(Object(p.a)({},t,{ryear:parseInt(e.target.value),process:"",error:"",success:""}))},required:!0,value:t.ryear}),r.a.createElement("p",{className:"my-auto font-weight-bold"},"E.C")))):r.a.createElement("p",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},d.derror?r.a.createElement("p",{className:"text-center text-danger font-weight-bold"},"Invalid date entered please check initial day and return day"):r.a.createElement("p",null)),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",{className:"btn-danger btn",onClick:function(){return a(Object(p.a)({},t,{tab:"type"}))}},r.a.createElement(A.a,{icon:k.a,className:"text-white"}),"Back")),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("button",{type:"submit",className:"btn btn-info mt-3 float-right"},r.a.createElement(A.a,{icon:k.u,className:"text-white"}),"Next")))))}),Be=a(14),Ye=function(){var e=Object(n.useContext)(u),t=e.values,a=e.setValues,c=(e.emp_id,Object(n.useContext)(d)),l=c.employees,s=c.users,i=c.department,m=l.state,o=(l.loading,l.error,s.state),E=(s.loading,s.error,new F(o,m,i.state)),f=(t.type,function(){var e=0;return t.approval_manager.map((function(t){return t.step>e?e=t.step:le()})),t.f_director.map((function(t){return t.step>e?e=t.step:le()})),e});return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4"}),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",{className:"search-wrapper active"},r.a.createElement("div",{className:"input-holder"},r.a.createElement("input",{type:"text",className:"search-input",placeholder:"Search employee name,department,userole",onChange:function(e){return n=e.target.value,a(Object(p.a)({},t,{employees:""!==n?E.searchEmployee(n):[]}));var n}}),r.a.createElement("button",{className:"search-icon"},r.a.createElement("span",null))))),r.a.createElement("div",{className:"col-lg-2"}),r.a.createElement("div",{className:"col-lg-12 mt-2"},r.a.createElement(Be.g,null,r.a.createElement(Be.i,null,r.a.createElement("tr",null,r.a.createElement("th",null,"# Employee id"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.K,className:"mx-2"}),"Employee name"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.z,className:"mx-2"}),"Department"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.L,className:"mx-2"}),"User role"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.D,className:"mx-2"}),"Select"))),r.a.createElement(Be.h,null,t.employees.length?t.employees.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"text-center font-weight-bold"},e.emp_id),r.a.createElement("td",null,E.Name(e.emp_id)),r.a.createElement("td",null,E.Department(e.department)),r.a.createElement("td",null,e.type),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-info",onClick:function(){return n=e.emp_id,void(t.approval_manager.find((function(e){return e.emp_id===n}))?le():a((function(e){return Object(p.a)({},e,{approval_manager:[].concat(Object(D.a)(e.approval_manager),[{emp_id:n,step:f()+1}])})})));var n}},r.a.createElement(A.a,{icon:k.D,className:"mx-2"}),"select")))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:5,className:"text-center text-danger font-weight-bold"},"No Employees found"))))),r.a.createElement("div",{className:"col-lg-12 my-2"},r.a.createElement("h3",{className:"text-center"},"Approval Managers")),r.a.createElement("div",{className:"col-lg-12 my-2"},r.a.createElement(Be.g,null,r.a.createElement(Be.i,null,r.a.createElement("tr",null,r.a.createElement("th",null,"# Employee id"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.K,className:"mx-2"}),"Employee name"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.z,className:"mx-2"}),"Department"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.L,className:"mx-2"}),"User role"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.y,className:"mx-2"}),"step to approve"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.D,className:"mx-2"}),"set approval step"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.I,className:"mx-2"}),"Remove"))),r.a.createElement(Be.h,null,t.approval_manager.length||t.f_director.length?t.approval_manager.map((function(e){return r.a.createElement("tr",{key:e.emp_id},r.a.createElement("td",{className:"text-center font-weight-bold"},e.emp_id),r.a.createElement("td",null,E.Name(e.emp_id)),r.a.createElement("td",null,E.Department(e.emp_id)),r.a.createElement("td",null,E.UserRole(e.emp_id)),r.a.createElement("td",null,e.step),r.a.createElement("td",{className:"text-center input-container"},r.a.createElement("p",{className:"mx-2"},"set Level"),r.a.createElement("input",{type:"number",className:"input-field",onChange:function(t){return function(e,t){a((function(a){return Object(p.a)({},a,{approval_manager:t?[].concat(Object(D.a)(a.approval_manager.filter((function(t){return t.emp_id!==e}))),[{emp_id:e,step:t}]):a.approval_manager})}))}(e.emp_id,parseInt(t.target.value))}})),r.a.createElement("td",{className:"text-center",onClick:function(){return function(e){return a((function(t){return Object(p.a)({},t,{approval_manager:t.approval_manager.filter((function(t){return t.emp_id!==e}))})}))}(e.emp_id)}},r.a.createElement(A.a,{icon:k.I,className:"fa-1x"})))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6,className:"text-center font-weight-bold"},"No Employess added for approval"))))),r.a.createElement("div",{className:"col-lg-6 mt-3"},r.a.createElement("div",{className:"btn-danger btn",onClick:function(){return a(Object(p.a)({},t,{tab:"create"}))}},r.a.createElement(A.a,{icon:k.a,className:"text-white"}),"Back")),r.a.createElement("div",{className:"col-lg-6 mt-3"},r.a.createElement("button",{type:"submit",className:"btn btn-info float-right",onClick:function(){return a(Object(p.a)({},t,{tab:"participant",step:4}))}},r.a.createElement(A.a,{icon:k.u,className:"text-white"}),"Next"))))},We=function(e){e.emit("letters",""),e.emit("chat","")},Ke=function(){var e=Object(n.useContext)(u),t=e.emp_id,a=e.setValues,c=e.values,l=e.id,i=c.approval_manager,m=c.f_director,o=[].concat(Object(D.a)(i||[]),Object(D.a)(m||[])),E=Object(n.useContext)(d),f=E.employees,g=E.users,v=E.socket,b=E.letters,N=E.department,h=f.state,_=g.state,x=new Se(b.state,_,h,N.state),y=x.find_letter(l),O=Math.round(1e8*Math.random(0,1e8))+v?v.id:"",j=Object(n.useState)(Object(p.a)({i:0},ce("default"))),w=Object(s.a)(j,2),C=w[0],S=w[1];Object(n.useEffect)((function(){"create"===c.usage&&t?o.find((function(e){return e.emp_id===t}))?le():a((function(e){return Object(p.a)({},e,{participants:[].concat(Object(D.a)(e.participants),[{emp_id:t}])})})):le()}),[]);var L=function(e){var t,a,n,r,l,s,i;return Y.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Y.a.awrap(K.a.get(J.host+"/letters",{headers:{data:Object(V.encryptObject)(X())}}));case 2:return t=m.sent,a=Object(V.decrptObject)(t.data),console.log(a),n=new Se(a,_,h,N.state),r=n.first_manager(e._doc._id).map((function(t){return{message:e._doc.title,letter_id:e._doc._id,sender:x.getEmp_id(),reciever:t.emp_id}})),l=n.first_manager(e._doc._id).length?[]:n.participants(e._doc._id).map((function(t){return{message:e._doc.title,letter_id:e._doc._id,sender:x.getEmp_id(),reciever:t.emp_id}})),m.next=10,Y.a.awrap(K.a.post(J.host+"/messages",{data:Object(V.encryptObject)(Object(p.a)({messages:[].concat(Object(D.a)(l),Object(D.a)(r))},X()))}));case 10:s=m.sent,i=Object(V.decrptObject)(s.data),console.log(i),i.created?S((function(e){return Object(p.a)({},e,{},"create"===c.usage?ce("success","saving letter success"):ce("success","updating letter success"))})):S((function(e){return Object(p.a)({},e,{},ce("error","Error in creating message please try again later..."))})),We(v);case 15:case"end":return m.stop()}}))};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("h4",{className:"text-center my-3"},"Add Recievers"),r.a.createElement("p",{className:"text-small font-weight-bold font-italic text-center"},r.a.createElement(A.a,{icon:k.w,className:"text-info mx-2"}),"what are Recievers ?- are employees which don't need to approve ,simply they are the employees that are include in the letter")),r.a.createElement("div",{className:"col-lg-4"}),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",{className:"search-wrapper active"},r.a.createElement("div",{className:"input-holder"},r.a.createElement("input",{type:"text",className:"search-input",placeholder:"Search employee name,department,userole",onChange:function(e){return t=e.target.value,a(Object(p.a)({},c,{employees:""!==t?x.searchEmployee(t):[]}));var t}}),r.a.createElement("button",{className:"search-icon"},r.a.createElement("span",null))))),r.a.createElement("div",{className:"col-lg-2"}),r.a.createElement("div",{className:"col-lg-12 mt-2"},r.a.createElement(Be.g,null,r.a.createElement(Be.i,null,r.a.createElement("tr",null,r.a.createElement("th",null,"# Employee id"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.K,className:"mx-2"}),"Employee name"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.z,className:"mx-2"}),"Department"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.L,className:"mx-2"}),"User role"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.D,className:"mx-2"}),"Select"))),r.a.createElement(Be.h,null,c.employees.length?c.employees.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"text-center font-weight-bold"},e.emp_id),r.a.createElement("td",null,x.Name(e.emp_id)),r.a.createElement("td",null,x.dpName(e.department)),r.a.createElement("td",null,e.position),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-info",onClick:function(){return function(e){return c.participants.find((function(t){return t.emp_id===e}))?le():a((function(t){return Object(p.a)({},t,{participants:[].concat(Object(D.a)(t.participants),[{emp_id:e}])})}))}(e.emp_id)}},r.a.createElement(A.a,{icon:k.D,className:"mx-2"}),"Add")))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:5,className:"text-center text-danger font-weight-bold"},"No Employees found"))))),r.a.createElement("div",{className:"col-lg-12 my-2"},r.a.createElement(Be.g,null,r.a.createElement(Be.i,null,r.a.createElement("tr",null,r.a.createElement("th",null,"# Employee id"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.K,className:"mx-2"}),"Employee name"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.z,className:"mx-2"}),"Department"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.L,className:"mx-2"}),"User role"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.I,className:"mx-2"}),"Remove"))),r.a.createElement(Be.h,null,c.participants.length?c.participants.map((function(e){return r.a.createElement("tr",{key:e.emp_id},r.a.createElement("td",{className:"text-center font-weight-bold"},e.emp_id),r.a.createElement("td",null,x.Name(e.emp_id)),r.a.createElement("td",null,x.Department(e.emp_id)),r.a.createElement("td",null,x.UserRole(e.emp_id)),r.a.createElement("td",{className:"text-center",onClick:function(){return function(e){return a((function(t){return Object(p.a)({},t,{participants:t.participants.filter((function(t){return t.emp_id!==e}))})}))}(e.emp_id)}},r.a.createElement(A.a,{icon:k.I,className:"fa-1x"})))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:5,className:"text-center font-weight-bold"},"No particpants added"))))),r.a.createElement("div",{className:"col-lg-12 my-2"},r.a.createElement("div",{className:"text-center"},r.a.createElement("p",{className:"text-danger text-center font-weight-bold"},C.error),r.a.createElement("p",{className:"text-success text-center font-weight-bold"},C.success),r.a.createElement("p",{className:"text-info text-center font-weight-bold"},C.process),C.loading?r.a.createElement(Ee,null):r.a.createElement("p",null))),r.a.createElement("div",{className:"col-lg-6 my-2"}),r.a.createElement("div",{className:"col-lg-6 my-2"},r.a.createElement("button",{disabled:C.disable,className:"btn float-right btn-info",onClick:function(){return function(){var e,t,a,n,r,s,i,m,d,u,E,f,g,b,N,h,_,j;return Y.a.async((function(w){for(;;)switch(w.prev=w.next){case 0:if(w.prev=0,e=c.type,t=c.title,a=c.objective,n=c.initial_place,r=c.destination_place,s=c.idate,i=c.imonth,m=c.iyear,d=c.rdate,u=c.rmonth,E=c.ryear,f=c.participants,g=c.description,b=c.project_name,N=c.program,h="allowance"===e?xe(s,i,m):"",_="allowance"===e?xe(d,u,E):"","create"!==c.usage){w.next=10;break}S((function(e){return Object(p.a)({},e,{},ce("initial","saving please wait..."))})),v.emit("create_letter",{creater:x.getEmp_id(),type:e,title:t,description:g,objective:a,initial_place:n,project_name:b,program:N,destination_place:r,initial_date:h,return_date:_,participants:f,approval_manager:o,rid:O}),v.on("create_letter",(function(e){e.rid===O?L(e):S((function(e){return Object(p.a)({},e,{},ce("error","Saving error please try again letter"))}))})),w.next=22;break;case 10:if("edit"!==c.usage){w.next=21;break}return 0,S((function(e){return Object(p.a)({},e,{},ce("initial","updating please wait..."))})),v.emit("update_letter",Object(p.a)({_id:l},y,{type:e,title:t,description:g,objective:a,initial_place:n,project_name:b,program:N,destination_place:r,initial_date:h,return_date:_,participants:f,approval_manager:o,rid:O})),w.next=16,Y.a.awrap(K.a.put(J.host+"/delMessages",{data:Object(V.encryptObject)(Object(p.a)({_id:l},X()))}));case 16:j=w.sent,Object(V.decrptObject)(j.data).deleted&&L({_doc:{title:t,_id:l}}),w.next=22;break;case 21:S((function(e){return Object(p.a)({},e,{},ce("error","unable to update message of the letter please try again letter"))}));case 22:w.next=27;break;case 24:w.prev=24,w.t0=w.catch(0),S((function(e){return Object(p.a)({},e,{},ce("error","unable to update letter please try again letter"))}));case 27:case"end":return w.stop()}}),null,null,[[0,24]])}()}},"save"))))},Je=Object(m.f)((function(e){var t=e.match,a=e.setSize,c=t.params.id,l=Object(n.useState)({step:1,type:"",tab:"type",employees:[],approval_manager:[],f_director:[],participants:[],usage:"create"}),i=Object(s.a)(l,2),m=i[0],o=i[1];Object(n.useEffect)((function(){a("xl")}),[]);var d=function(e){return"type"===e?"type":"create"===e?m.step>=2?"create":"type":"approval"===e?m.step>=3?"approval":1===m.step?"type":2===m.step?"create":"":"participant"===e?m.step>=4?"participant":1===m.step?"type":2===m.step?"create":3==m.step?"approval":"":""};return r.a.createElement(u.Provider,{value:{setValues:o,values:m,setSize:a,emp_id:c}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3",onClick:function(){return o(Object(p.a)({},m,{tab:d("type")}))}},r.a.createElement("h4",{className:"text-center"},r.a.createElement(A.a,{icon:k.x,className:"text-info"}),"select type")),r.a.createElement("div",{className:"col-lg-3",onClick:function(){return o(Object(p.a)({},m,{tab:d("create")}))}},r.a.createElement("h4",{className:"text-center"},r.a.createElement(A.a,{icon:k.p,className:m.step>=2?"text-info mx-2":""}),"Write aletter")),r.a.createElement("div",{className:"col-lg-3",onClick:function(){return o(Object(p.a)({},m,{tab:d("approval")}))}},r.a.createElement("h4",{className:"text-center"},r.a.createElement(A.a,{icon:k.N,className:m.step>=3?"text-info mx-2":""}),"Select approval stages")),r.a.createElement("div",{className:"col-lg-3",onClick:function(){return o(Object(p.a)({},m,{tab:d("participant")}))}},r.a.createElement("h4",{className:"text-center"},r.a.createElement(A.a,{icon:k.O,className:m.step>=4?"text-info mx-2":""}),"Add Recievers"))),r.a.createElement("div",{className:"col-lg-12 my-3"},r.a.createElement("h4",{className:"text-center"},r.a.createElement(Ue.a,{animated:!0,multi:!0},r.a.createElement(Ue.a,{animated:!0,bar:!0,value:25},"select type"),r.a.createElement(Ue.a,{animated:!0,bar:!0,color:"warning",value:m.step>=2?25:0},"Write aletter"),r.a.createElement(Ue.a,{animated:!0,bar:!0,color:"info",value:m.step>=3?25:0},"Select approval stages"),r.a.createElement(Ue.a,{animated:!0,bar:!0,color:"success",value:m.step>=4?25:0},"Add participants")))),"type"===m.tab?r.a.createElement(Fe,null):"create"===m.tab?r.a.createElement(qe,null):"approval"===m.tab?r.a.createElement(Ye,null):"participant"===m.tab?r.a.createElement(Ke,null):r.a.createElement("p",null)))})),Ve=function(e){var t=e._id,a=e.close,c=Object(n.useState)(Object(p.a)({deleted:!1},ce("default"))),l=Object(s.a)(c,2),i=l[0],m=l[1];Object(n.useContext)(d).socket;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},i.deleted?r.a.createElement("h5",{className:"text-center text-success"},r.a.createElement(A.a,{icon:k.h})," Deleted"):r.a.createElement("h5",{className:"text-center text-info"},i.progress),r.a.createElement("p",{className:"text-center"},i.loading?r.a.createElement(Ee,null):r.a.createElement("p",null)))),r.a.createElement("div",{className:"row float-right"},i.deleted?r.a.createElement("button",{className:"btn btn-info float-right mx-2",disabled:i.disable},r.a.createElement(A.a,{icon:k.P,className:"mx-2 fx-2"}),"Close"):r.a.createElement("button",{className:"btn btn-info float-right",onClick:function(){return a()},disabled:i.disable},r.a.createElement(A.a,{icon:k.P,className:"mx-2 fx-2"}),"Cancel"),i.deleted?r.a.createElement("p",null):r.a.createElement("button",{className:"btn btn-primary float-right mx-2",onClick:function(){return function(){var e,a;return Y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,m(Object(p.a)({},i,{},ce("initial","Deleting..."))),n.next=4,Y.a.awrap(K.a.put(J.host+"/letters",{data:Object(V.encryptObject)(Object(p.a)({_id:t},X()))}));case 4:if(e=n.sent,!Object(V.decrptObject)(e.data).deleted){n.next=14;break}return n.next=9,Y.a.awrap(K.a.put(J.host+"/delMessages",{data:Object(V.encryptObject)(Object(p.a)({_id:t},X()))}));case 9:a=n.sent,Object(V.decrptObject)(a.data).deleted?m((function(e){return Object(p.a)({},e,{},ce("success","Deleted successfully"),{deleted:!0})})):m((function(e){return Object(p.a)({},e,{},ce("error","unable to delete messages of the letter please contact admin"))})),n.next=15;break;case 14:m((function(e){return Object(p.a)({},e,{},ce("error","unable to delete letter please try again letter"))}));case 15:n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),m((function(e){return Object(p.a)({},e,{},ce("error","unable to letter internal server error"))}));case 20:case"end":return n.stop()}}),null,null,[[0,17]])}()},disabled:i.disable},r.a.createElement(A.a,{icon:k.h,className:"mx-2 fx-2"}),"Yes")))},He=Object(m.f)((function(e){var t=e.match,a=e.l_id,c=(t.params.id,Object(n.useContext)(d)),l=c.letters,i=c.users,m=c.employees,o=new Se(l.state,i.state,m.state),E=o.find_letter(a),f=Object(n.useState)({step:1,type:"",tab:"type",employees:[],approval_manager:[],f_director:[],participants:[],usage:"edit"}),g=Object(s.a)(f,2),v=g[0],b=g[1];Object(n.useEffect)((function(){var e=o.approval_managers(a).filter((function(e){return"f_director"!==o.UserRole(e.emp_id)})),t=o.approval_managers(a).filter((function(e){return"f_director"===o.UserRole(e.emp_id)}));b((function(n){return Object(p.a)({},n,{approval_manager:e.map((function(e){return{emp_id:e.emp_id,step:e.step}})),f_director:t.map((function(e){return{emp_id:e.emp_id,step:e.step}})),participants:o.participants(a).map((function(e){return e?{emp_id:e.emp_id}:le()})),type:E.type,editorState:o.editorState(a),description:JSON.stringify(o.description(a)),title:E.title,objective:E.objective,project_name:E.project_name,program:E.program,initial_place:E.initial_place,destination_place:E.destination_place,idate:"allowance"===E.type?Oe(E.initial_date).date:"",imonth:"allowance"===E.type?Oe(E.initial_date).month:"",iyear:"allowance"===E.type?Oe(E.initial_date).year:"",rdate:"allowance"===E.type?Oe(E.return_date).date:"",rmonth:"allowance"===E.type?Oe(E.return_date).month:"",ryear:"allowance"===E.type?Oe(E.return_date).year:""})}))}),[]);var N=function(e){return"type"===e?"type":"create"===e?v.step>=2?"create":"type":"approval"===e?v.step>=3?"approval":1===v.step?"type":2===v.step?"create":"":"participant"===e?v.step>=4?"participant":1===v.step?"type":2===v.step?"create":3==v.step?"approval":"":""};return r.a.createElement(u.Provider,{value:{setValues:b,values:v,id:a,letter:E}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3",onClick:function(){return b(Object(p.a)({},v,{tab:N("type")}))}},r.a.createElement("h4",{className:"text-center"},r.a.createElement(A.a,{icon:k.x,className:"text-info"}),"select type")),r.a.createElement("div",{className:"col-lg-3",onClick:function(){return b(Object(p.a)({},v,{tab:N("create")}))}},r.a.createElement("h4",{className:"text-center"},r.a.createElement(A.a,{icon:k.p,className:v.step>=2?"text-info mx-2":""}),"Write aletter")),r.a.createElement("div",{className:"col-lg-3",onClick:function(){return b(Object(p.a)({},v,{tab:N("approval")}))}},r.a.createElement("h4",{className:"text-center"},r.a.createElement(A.a,{icon:k.N,className:v.step>=3?"text-info mx-2":""}),"Select approval stages")),r.a.createElement("div",{className:"col-lg-3",onClick:function(){return b(Object(p.a)({},v,{tab:N("participant")}))}},r.a.createElement("h4",{className:"text-center"},r.a.createElement(A.a,{icon:k.O,className:v.step>=4?"text-info mx-2":""}),"Add Recievers"))),r.a.createElement("div",{className:"col-lg-12 my-3"},r.a.createElement("h4",{className:"text-center"},r.a.createElement(Ue.a,{animated:!0,multi:!0},r.a.createElement(Ue.a,{animated:!0,bar:!0,value:25},"select type"),r.a.createElement(Ue.a,{animated:!0,bar:!0,color:"warning",value:v.step>=2?25:0},"Write aletter"),r.a.createElement(Ue.a,{animated:!0,bar:!0,color:"info",value:v.step>=3?25:0},"Select approval stages"),r.a.createElement(Ue.a,{animated:!0,bar:!0,color:"success",value:v.step>=4?25:0},"Add participants")))),"type"===v.tab?r.a.createElement(Fe,null):"create"===v.tab?r.a.createElement(qe,null):"approval"===v.tab?r.a.createElement(Ye,null):"participant"===v.tab?r.a.createElement(Ke,null):r.a.createElement("p",null)))})),Xe=function(e){var t=e.l_id,a=Object(n.useContext)(d),c=(a.socket,a.messages),l=a.department,s=a.employees,i=a.users,m=a.letters,o=new Le(c.state,m.state,i.state,s.state,l.state),u=(o.totallProgress(t),o.approval_managers(t).find((function(e){return"unApproved"===e.status}))?"red":"info");return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12 my-2"},o.approval_managers(t).length?r.a.createElement("h4",{className:"text-center"},"Approval managers"):r.a.createElement("p",null)),r.a.createElement("div",{className:"col-lg-12"},o.approval_managers(t).length?r.a.createElement(Be.g,{striped:!0,hover:!0},r.a.createElement(Be.i,null,r.a.createElement("tr",null,r.a.createElement("th",null,"#Employee id"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.K,className:"mx-2"}),"Employee name"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.g,className:"mx-2"}),"Approval stage"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.N,className:"mx-2"}),"Seen"),r.a.createElement("th",{className:"text-center"},r.a.createElement(A.a,{icon:k.i,className:"mx-2"}),"Approval status"))),r.a.createElement(Be.h,null,o.approval_managers(t).map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.emp_id),r.a.createElement("td",null,o.Name(e.emp_id)),r.a.createElement("td",null,e.step),r.a.createElement("td",null,e.seen?"Seen":"not Seen"),r.a.createElement("td",null,"Approved"===e.status?r.a.createElement("p",{className:"text-center text-success"},r.a.createElement(A.a,{icon:k.i,className:"fa-2x mx-2 text-success"}),"Approved"):"unApproved"===e.status?r.a.createElement("p",{className:"text-center"},r.a.createElement(A.a,{icon:k.P,className:"fa-2x mx-2 text-danger"}),"unApproved"):"waiting"===e.status&&e.seen?r.a.createElement("p",{className:"text-center"},r.a.createElement(A.a,{icon:k.t,className:"fa-2x mx-2 text-info"}),"Reviewing"):"waiting"===e.status?r.a.createElement("p",{className:"text-center font-weight-bold"},"waiting"):r.a.createElement("p",null)))})))):r.a.createElement("p",null)),r.a.createElement("div",{className:"col-lg-12 my-2"},o.participants(t).length?r.a.createElement("h4",{className:"text-center"},"participants"):r.a.createElement("p",null),o.participants(t).length?r.a.createElement(Be.g,{striped:!0,hover:!0},r.a.createElement(Be.i,null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"# Employee id"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.K,className:"mx-2"}),"Employee name"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.N,className:"mx-2"}),"Seen"))),r.a.createElement(Be.h,null,o.participants(t).map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"text-center"},e.emp_id),r.a.createElement("td",null,o.Name(e.emp_id)),r.a.createElement("td",null,e.seen?"Seen":"not Seen"))})))):r.a.createElement("p",null)),o.totallProgress(t)?r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"mb-3 widget-chart widget-chart2 text-left card card-shadow-"+u},r.a.createElement("div",{className:"widget-content"},r.a.createElement("div",{className:"widget-content-outer"},r.a.createElement("div",{className:"widget-content-wrapper"},r.a.createElement("div",{className:"widget-content-left pr-2 fsize-1"},r.a.createElement("div",{className:"widget-numbers mt-0 fsize-3 text-"+u},o.totallProgress(t),"%")),r.a.createElement("div",{className:"widget-content-right w-100"},r.a.createElement("div",{className:"progress-bar-xs progress"},r.a.createElement("div",{className:"progress-bar bg-"+u,role:"progressbar","aria-valuenow":o.totallProgress(t),"aria-valuemin":0,"aria-valuemax":100,style:{width:o.totallProgress(t)+"%"}})))),r.a.createElement("div",{className:"widget-content-left fsize-1"},r.a.createElement("div",{className:"text-muted opacity-6"},"Approval Totall progress made")))))):r.a.createElement("p",null),o.unApproved(t).length?r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("h4",{className:"text-center font-weight-bold text-danger"},"The following managers does not approve this letter because of"),o.unApproved(t).map((function(e){return r.a.createElement("p",{className:"text-danger font-italic font-weight-bold text-center"},o.Name(e.emp_id),"-",o.manager_info(t,e.emp_id)?o.manager_info(t,e.emp_id).comment:"")}))):r.a.createElement("p",null)))},$e=function(e){var t=e.l_id,a=Object(n.useState)(Object(p.a)({approved:"",unApproved:!1,comment:"",check:{Approved:!1,unApproved:!1}},ce("default"))),c=Object(s.a)(a,2),l=c[0],i=c[1],m=Object(n.useContext)(d),o=m.socket,u=m.letters,E=m.employees,f=m.messages,g=m.users,v=m.department,b=new Le(f.state,u.state,g.state,E.state,v.state),N=b.find_letter(t),h=b.getEmp_id(),_=function(){var e,a,n,r,c,s,m;return Y.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Y.a.awrap(me());case 2:if(e=o.sent,a=new Le(f.state,e,g.state,E.state,v.state),n=100===a.totallProgress(t),r=!!a.participants(t).length,!n||!r){o.next=13;break}return c=b.participants(t),s=c.map((function(e){return{message:N.title,letter_id:t,sender:N.creater,reciever:e.emp_id}})),o.next=11,Y.a.awrap(K.a.post(J.host+"/messages",{data:Object(V.encryptObject)(Object(p.a)({messages:[].concat(Object(D.a)(s),[{message:"System Notification- Letter "+N.id+" has completed approval stages and given to all participants",sender:h,reciever:N.creater}])},X()))}));case 11:m=o.sent,Object(V.decrptObject)(m.data);case 13:i(Object(p.a)({},l,{},ce("success","Decison made succesfully")));case 14:case"end":return o.stop()}}))};return r.a.createElement("form",{onSubmit:function(e){return function(e){var a,n,r,c,s,m;return Y.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:return e.preventDefault(),d.prev=1,i(Object(p.a)({},l,{},ce("initial","Taking decision please wait ..."))),d.next=5,Y.a.awrap(Ne());case 5:return a=d.sent,n=Object(p.a)({},N,{approval_manager:[].concat(Object(D.a)(b.approval_managers(t).filter((function(e){return e.emp_id!==h}))),[Object(p.a)({},b.manager_info(t),{status:l.approved,comment:l.comment,approved_date:a})])}),d.next=9,Y.a.awrap(K.a.put(J.host+"/letter",{data:Object(V.encryptObject)(Object(p.a)({},n,{},X()))}));case 9:if(r=d.sent,!Object(V.decrptObject)(r.data).updated){d.next=31;break}if(!b.proceedStage(t)){d.next=28;break}if(c=b.nextEmployee(t),!!!c.length){d.next=25;break}return s=c.map((function(e){return{message:N.title,letter_id:t,file_name:"",sender:N.creater,reciever:e.emp_id}})),d.next=20,Y.a.awrap(K.a.post(J.host+"/messages",{data:Object(V.encryptObject)(Object(p.a)({messages:[].concat(Object(D.a)(s),[{message:"Approved"===l.approved?"System Notification "+b.Name(h)+" has approved your letter "+N.id:"unApproved"===l.approved?"System notification "+b.Name(h)+" un approved your letter because "+l.comment:"",letter_id:"",file_name:"",sender:h,reciever:N.creater}])},X()))}));case 20:m=d.sent,Object(V.decrptObject)(m.data).created,_(),d.next=26;break;case 25:_();case 26:d.next=29;break;case 28:i(Object(p.a)({},l,{},ce("success","Decison made succesfully")));case 29:d.next=32;break;case 31:i(Object(p.a)({},l,{},ce("error","Error made while taking decision making please try again letter")));case 32:We(o),d.next=38;break;case 35:d.prev=35,d.t0=d.catch(1),i(Object(p.a)({},l,{},ce("error","Error made while taking decision making please try again letter")));case 38:case"end":return d.stop()}}),null,null,[[1,35]])}(e)}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"input-container"},r.a.createElement(A.a,{icon:k.h,className:"text-info fa-2x mx-2 my-auto "}),r.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:l.check.Approved,className:"my-auto mx-3",onChange:function(e){return i((function(e){return Object(p.a)({},l,{approved:"Approved"===e.approved?"":"Approved",check:{Approved:!e.check.Approved,unApproved:!1}})}))}}),"Approve"),r.a.createElement("div",{className:"input-container"},r.a.createElement(A.a,{icon:k.P,className:"text-danger fa-2x mx-2 my-auto "}),r.a.createElement("input",{type:"checkbox",name:"approval",value:"male",checked:l.check.unApproved,className:"my-auto mx-3",onChange:function(e){return i((function(e){return Object(p.a)({},l,{approved:"unApproved"===e.approved?"":"unApproved",check:{Approved:!1,unApproved:!e.check.unApproved}})}))}}),"un Approve"),l.check.unApproved&&"unApproved"===l.approved?r.a.createElement("p",{className:"font-weight-bold text-center"},"please write a comment why you unApprove this message"):r.a.createElement("p",null),l.check.unApproved&&"unApproved"===l.approved?r.a.createElement("div",{className:"input-container"},r.a.createElement(A.a,{icon:k.m,className:"text-warning fa-2x mx-2 my-auto "}),r.a.createElement("textarea",{className:"input-field form-control my-auto",type:"text",placeholder:"write comment",onChange:function(e){i(Object(p.a)({},l,{comment:e.target.value}))},required:!0,cols:"20",rows:"5"})):r.a.createElement("p",null),r.a.createElement("div",{className:"text-center"},r.a.createElement("p",{className:"text-danger text-center font-weight-bold"},l.error),r.a.createElement("p",{className:"text-success text-center font-weight-bold"},l.success),r.a.createElement("p",{className:"text-info text-center font-weight-bold"},l.process),l.loading?r.a.createElement(Ee,null):r.a.createElement("p",null)),l.check.Approved||l.check.unApproved?r.a.createElement("button",{type:"submit",className:"float-right btn btn-info",disabled:l.disable},"Done"):r.a.createElement("p",null))))},Qe=a(313),Ze=a.n(Qe),et=a(314),tt=function(e){function t(){return Object(I.a)(this,t),Object(R.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(et.a)(t,[{key:"render",value:function(){var e=this.props,t=e.company,a=e.Mess,n=e.Letter,c=e.id;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12 my-2"},r.a.createElement("h3",{className:"text-center font-weight-bold"},t.state[0].name)),r.a.createElement("div",{className:"col-lg-6 my-2"},r.a.createElement("h6",{className:"text-center font-weight-bold"},n?n.creater===a.getEmp_id()?"":"To- "+a.Name(a.getEmp_id()):""),r.a.createElement("h6",{className:"text-center font-weight-bold"},n?n.creater===a.getEmp_id()?"":"From - "+a.Name(n.creater):""," ",r.a.createElement("br",null),n?n.creater===a.getEmp_id()?"":"Department- "+a.Department(n.creater):"")),r.a.createElement("div",{className:"col-lg-6 my-2"},r.a.createElement("h6",{className:"text-center font-italic float-right"},"Letter id- ",n.id," ",r.a.createElement("br",null),"Date -",n?_e(n.created_date):"")),n&&"allowance"===n.type?r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("p",{className:"text-center font-italic"},"Project name -",n.project_name," ",r.a.createElement("br",null),"program- ",n.program," ",r.a.createElement("br",null),"objective- ",n.objective," ",r.a.createElement("br",null),"duration days-"," ",parseInt(he(n.initial_date,n.return_date))+1)):r.a.createElement("p",null),n&&"allowance"===n.type?r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("p",{className:"text-center font-italic font-weight-bold"},"\u1218\u1290\u123b \u1240\u1295 - ",ye(n.initial_date)," ",r.a.createElement("br",null),"\u1218\u1218\u1208\u123b \u1240\u1295-",ye(n.return_date)," ",r.a.createElement("br",null),"\u1218\u1290\u123b \u1266\u1273- ",n.initial_place," ",r.a.createElement("br",null),"\u1218\u12f5\u1228\u123b \u1266\u1273-",n.destination_place," ",r.a.createElement("br",null))):r.a.createElement("p",null),r.a.createElement("div",{className:"col-lg-12 my-2"},r.a.createElement("h4",{className:"text-center font-weight-bold"},"\u1309\u12f3\u12e9-",n?n.title:"")),r.a.createElement("div",{className:"col-lg-12 my-2"},r.a.createElement(Ge.Editor,{toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",readOnly:!0,toolbarHidden:!0,editorState:a.editorState(c)})),r.a.createElement("div",{className:"col-lg-6 y-2"},a.isApproval(c)?a.approvedManagers().map((function(e){return r.a.createElement("p",{className:"text-center font-weight-bold"},r.a.createElement(A.a,{icon:k.i,className:"text-success fa-2x mx-2"}),a.Name(e.emp_id))})):r.a.createElement("p",null))))}}]),t}(n.Component),at=function(e){var t=e.l_id,a=e.setSize,c=Object(n.useContext)(d),l=c.socket,s=c.company,i=c.letters,m=c.employees,o=c.messages,u=c.users,E=c.department,f=new Le(o.state,i.state,u.state,m.state,E.state),g=f.find_letter(t),v=f.getEmp_id();Object(n.useEffect)((function(){a?a("xl"):le(),f.manager_info(t)?l.emit("update_letter",Object(p.a)({},g,{approval_manager:[].concat(Object(D.a)(f.approval_managers(t).filter((function(e){return e.emp_id!==v}))),[Object(p.a)({},f.manager_info(t,v),{seen:!0})])})):le(),f.participants(t).find((function(e){return e.emp_id===v}))?f.participants(t).find((function(e){return e.emp_id===v})).seen?le():l.emit("update_letter",Object(p.a)({},g,{participants:[].concat(Object(D.a)(f.participants(t).filter((function(e){return e.emp_id!==v}))),[Object(p.a)({},f.particpant_info(t,v),{seen:!0})])})):le()}),[]);var b=Object(n.useRef)();return r.a.createElement("div",null,r.a.createElement(Ze.a,{trigger:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-9"}),r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("button",{className:"btn btn-outline-info"},r.a.createElement(A.a,{icon:k.F,className:"mx-2"}),"Print"))))},content:function(){return b.current}}),r.a.createElement(tt,{ref:b,company:s,Mess:f,Letter:g,id:t}))},nt=function(e){var t=e.className,a=e.type,c=e.typing,l=e.stop_typing,i=e.l_id,m=e.emitter,o=Object(n.useState)(!1),d=Object(s.a)(o,2),u=d[0],p=d[1],E=Object(n.useState)("xl"),f=Object(s.a)(E,2),g=f[0],v=f[1],b=Object(n.useState)(!1),N=Object(s.a)(b,2),h=N[0],_=N[1],x=function(){p(!u),"create_letter"===a?u?l():c():le(),"delete_letter"===a&&u?m():le()};return"create_letter"===a?r.a.createElement("div",null,r.a.createElement("div",{className:"btn",onClick:x,onMouseEnter:function(){return _(!0)},onMouseLeave:function(){return _(!1)}},r.a.createElement(A.a,{icon:k.q,className:"text-danger fa-2x"}),r.a.createElement("p",{style:{display:h?"":"none"},className:"font-italic font-weight-bold text-white"},"Create a letter")),r.a.createElement(Ie.a,{isOpen:u,toggle:x,size:g,className:t},r.a.createElement(Me.a,{toggle:x},r.a.createElement(A.a,{icon:k.q,className:"mx-2"}),"New Letter"),r.a.createElement(Pe.a,null,r.a.createElement(Je,{setSize:v})))):"Create_letter"===a?r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-outline-success mx-2 my-2",onClick:x},r.a.createElement(A.a,{icon:k.D,className:"mx-2"}),"Create Letter"),r.a.createElement(Ie.a,{isOpen:u,toggle:x,size:g,className:t},r.a.createElement(Me.a,{toggle:x},r.a.createElement(A.a,{icon:k.q,className:"mx-2"})),r.a.createElement(Pe.a,null,r.a.createElement(Je,{setSize:v})))):"view_letter"===a?r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-outline-success mx-2 my-2",onClick:x},r.a.createElement(A.a,{icon:k.t,className:"mx-2"}),"View"),r.a.createElement(Ie.a,{isOpen:u,toggle:x,size:"lg",className:t},r.a.createElement(Me.a,{toggle:x},r.a.createElement(A.a,{icon:k.q,className:"mx-2"})),r.a.createElement(Pe.a,null,r.a.createElement(at,{l_id:i,setSize:v})))):"edit_letter"===a?r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-outline-success mx-2 my-2",onClick:x},r.a.createElement(A.a,{icon:k.B,className:"mx-2"}),"Edit"),r.a.createElement(Ie.a,{isOpen:u,toggle:x,size:g,className:t},r.a.createElement(Me.a,{toggle:x},r.a.createElement(A.a,{icon:k.q,className:"mx-2"})),r.a.createElement(Pe.a,null,r.a.createElement(He,{l_id:i})))):"delete_letter"===a?r.a.createElement("div",null,r.a.createElement("div",{onClick:x,color:"primary",className:" btn btn-outline-success mx-2 my-2 "},r.a.createElement(A.a,{icon:k.I,className:"mx-2 fa-1x"}),"Delete"),r.a.createElement(Ie.a,{isOpen:u,toggle:x,className:t+" dialogue"},r.a.createElement(Me.a,{toggle:x},r.a.createElement("p",{className:"text-danger"},r.a.createElement(A.a,{icon:k.I,className:"mx-2 text-danger"}),"Letter is flagged for deletion are you sure you want to delete")),r.a.createElement(Pe.a,null,r.a.createElement(Ve,{_id:i,close:x})))):"progress"===a?r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-outline-success mx-2 my-2",onClick:x},r.a.createElement(A.a,{icon:k.g,className:"mx-2"}),"Progress"),r.a.createElement(Ie.a,{isOpen:u,toggle:x,size:"lg",className:t},r.a.createElement(Me.a,{toggle:x},r.a.createElement(A.a,{icon:k.g,className:"mx-2"}),"Progress"),r.a.createElement(Pe.a,null,r.a.createElement(Xe,{l_id:i})))):"approve"===a?r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-outline-success mx-2 my-2",onClick:x},r.a.createElement(A.a,{icon:k.v,className:"mx-2"}),"Take Decision"),r.a.createElement(Ie.a,{isOpen:u,toggle:x,size:"md",className:t},r.a.createElement(Me.a,{toggle:x},r.a.createElement(A.a,{icon:k.v,className:"mx-2"}),"Take Decision"),r.a.createElement(Pe.a,null,r.a.createElement($e,{l_id:i})))):void 0},rt=Object(m.f)((function(e){var t=e.match,a=t.params.id?t.params.id:"",c=Object(n.useContext)(d),l=c.socket,m=c.users,o=c.employees,u=c.messages,E=c.letters,f=(c.connections,c.typing),g=c.Ltyping,v=c.department,b=o.loading,N=o.error,h=m.loading,_=m.error,x=Object(n.useState)({message:"",contacted:[]}),y=Object(s.a)(x,2),O=y[0],j=y[1],w=Object(n.useRef)(null),C=new Le(u.state,E.state,m.state,o.state,v.state);Object(n.useEffect)((function(){C.newMessages(a).map((function(e){l.emit("update",Object(p.a)({},e,{seen:!0}))})),j((function(e){return Object(p.a)({},e,{contacted:C.contactedUsers()})})),S(),w.current&&a?w.current.focus():le()}),[u.state,a,w]);var S=function(){try{document.getElementById(C.last_message(a)?C.last_message(a)._id:"dsdc").scrollIntoView({behavior:"auto"})}catch(e){console.log(e)}};return b||h?r.a.createElement(Ae,null):N||_?r.a.createElement(ke,null):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"messaging mt-2 card bg-dark"},r.a.createElement("div",{className:"inbox_msg "},r.a.createElement("div",{className:"inbox_people"},r.a.createElement("div",{className:"headind_srch"},r.a.createElement("div",{className:"recent_heading"},r.a.createElement("h4",{className:"font-weight-bold"},"Recent Messages")),r.a.createElement("div",{className:"srch_bar"},r.a.createElement("div",{className:"stylish-input-group"},r.a.createElement("input",{type:"text",className:"search-bar",placeholder:"Search",onChange:function(e){return t=e.target.value,j(Object(p.a)({},O,{contacted:C.searchContacted(t)}));var t}}),r.a.createElement("span",{className:"input-group-addon"},r.a.createElement("button",{type:"button"},r.a.createElement(A.a,{icon:k.H})))))),r.a.createElement("div",{className:"inbox_chat"},O.contacted.length?O.contacted.map((function(e){return r.a.createElement(i.b,{to:"/message/"+e,key:e},r.a.createElement("div",{className:"chat_list active_chat",key:e},r.a.createElement("div",{className:"chat_people"},r.a.createElement("div",{className:"chat_img"},r.a.createElement("p",{"data-letters":C.firstLetters(e)}),C.isOnline(e)?r.a.createElement(A.a,{icon:k.k,className:"text-success"}):r.a.createElement(A.a,{icon:k.k,className:"text-secondary"})),r.a.createElement("div",{className:"chat_ib"},r.a.createElement("h5",null,C.messageName(e)," ",r.a.createElement("span",{className:"chat_date"},we(C.last_message(e).created_date))),r.a.createElement("p",null,C.last_message(e).message.length>100?C.last_message(e).message.slice(0,120)+"  ...":C.last_message(e).message)),C.newMessages(e).length?r.a.createElement("div",{className:"float-right rounded-circle"},r.a.createElement("h4",{className:"text-small"},r.a.createElement(A.a,{icon:k.E,className:"text-info fa-1x"}),C.newMessages(e).length)):r.a.createElement("p",null))))})):r.a.createElement("p",null))),a?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"row bg-light"},r.a.createElement("div",{className:"col-lg-2 float-right mt-2"},r.a.createElement("p",{"data-letters":C.firstLetters(a),className:"ml-5"}," ")),r.a.createElement("div",{className:"col-lg-6 mt-2 my-auto float-left"},r.a.createElement("h4",{className:""},C.messageName(a)),C.isOnline(a)?r.a.createElement("p",{className:"float-left"},r.a.createElement(A.a,{icon:k.k,className:"text-success ml-5"}),"online"):C.lastSeen(a)?r.a.createElement("p",{className:"float-left"},"last seen at"," ",r.a.createElement(ve.a,{date:C.lastSeen(a)})," ",je(C.lastSeen(a))):r.a.createElement("p",null)),r.a.createElement("div",{className:"col-lg-4 float-right font-italic mt-2"},"Department- ",C.Department(a)," ",r.a.createElement("br",null),"position-",C.UserRole(a)))))):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12 mt-5"},r.a.createElement("h2",{className:"text-white font-weight-bold text-center"},"Please Select chat... ",r.a.createElement("br",null),r.a.createElement(A.a,{icon:k.r,className:"text-white fa-3x"}))))),a?r.a.createElement("div",{className:"mesgs"},r.a.createElement("div",{className:"msg_history"},C.chatRoom(a).reverse().length?C.chatRoom(a).reverse().map((function(e){return e.sender===C.getEmp_id()?r.a.createElement("div",{className:"outgoing_msg",key:e._id,id:e._id},r.a.createElement("div",{className:"sent_msg"},e.letter_id?r.a.createElement("div",{className:"card",style:{minHeight:200}},r.a.createElement("div",{className:"card-header text-center font-weight-bold"},C.title(e.letter_id)),r.a.createElement("div",{className:"card-body font-italic"},C.description_text(e.letter_id).length>100?C.description_text(e.letter_id).slice(0,120)+" ...":C.description_text(e.letter_id)," "),r.a.createElement("div",{className:"card-footer text-muted"},r.a.createElement(nt,{type:"view_letter",l_id:e.letter_id}))):r.a.createElement("p",null,e.message),r.a.createElement("span",{className:"time_date"},je(e.created_date)," |"," ",we(e.created_date)," |",e.seen?" seen":" Delivered",e.seen?r.a.createElement(A.a,{icon:k.j,className:"text-info mx-2"}):r.a.createElement(A.a,{icon:k.h,className:"text-info mx-2"}))," ")):e.reciever===C.getEmp_id()?r.a.createElement("div",{className:"incoming_msg",key:e._id,id:e._id},r.a.createElement("div",{className:"incoming_msg_img"},r.a.createElement("p",{"data-letters":e.sender!==C.getEmp_id()?C.firstLetters(e.sender):e.reciever!==C.getEmp_id()?C.firstLetters(e.reciever):""})),r.a.createElement("div",{className:"received_msg"},r.a.createElement("div",{className:"received_withd_msg"},e.letter_id?r.a.createElement("div",{className:"card",style:{minHeight:200}},r.a.createElement("div",{className:"card-header text-center font-weight-bold"},C.title(e.letter_id)),r.a.createElement("div",{className:"card-body font-italic"},C.description_text(e.letter_id).length>100?C.description_text(e.letter_id).slice(0,100)+" ...":C.description_text(e.letter_id)," "),r.a.createElement("div",{className:"card-footer text-muted"},r.a.createElement(nt,{type:"view_letter",l_id:e.letter_id}))):r.a.createElement("p",null,e.message),r.a.createElement("span",{className:"time_date"}," ",je(e.created_date)," |",we(e.created_date))))):r.a.createElement("p",{key:e._id})})):r.a.createElement("h4",{className:"text-center text-white  mt-2 font-itlaic font-weight-bold "},r.a.createElement(A.a,{icon:k.n,className:"text-white fa-2x mx-2"}),"No messages yet...")),r.a.createElement("div",{className:"incoming_msg mb-2",id:"type"},r.a.createElement("div",{className:"incoming_msg_img"}),f===a?r.a.createElement("div",{className:"received_msg bg-light"},r.a.createElement("div",{className:"received_withd_msg"},r.a.createElement("p",null,C.messageName(a)+" "," is typing ..."))):r.a.createElement("p",null),g===a?r.a.createElement("div",{className:"received_msg bg-light"},r.a.createElement("div",{className:"received_withd_msg"},r.a.createElement("p",null,C.messageName(a)+" "," is creating letter ..."))):r.a.createElement("p",null)),r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),""!==O.message?l.emit("submit",{sender:C.getEmp_id(),reciever:a,message:O.message}):le(),j(Object(p.a)({},O,{message:""})),S()}(e)}},r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{className:"input-field form-control my-auto",id:"message",type:"text",placeholder:"type message",autoComplete:"off",onKeyUp:function(){return setTimeout((function(){return l.emit("typing",{emp_id:""})}),1200)},onChange:function(e){j(Object(p.a)({},O,{message:e.target.value})),l.emit("typing",{emp_id:C.getEmp_id()})},ref:w,value:O.message}),r.a.createElement(nt,{type:"create_letter",typing:function(){return l.emit("typing_letter",{emp_id:C.getEmp_id()})},stop_typing:function(){return l.emit("typing_letter",{emp_id:""})}})))):r.a.createElement("p",null))))})),ct=function(){var e=Object(n.useState)({collapse:""}),t=Object(s.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+a.collapse},r.a.createElement(o.Provider,{value:{uiContents:a,togglers:c}},r.a.createElement(q,null),r.a.createElement("div",{className:"app-main"},r.a.createElement(pe,null),r.a.createElement("div",{className:"app-main__outer"},r.a.createElement("div",{className:"app-main__inner"},r.a.createElement(rt,null))))))},lt={state:[],loading:!0,error:!1},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_LETTERS":return{state:t.payload,loading:!1,error:!1};case"LOADING_LETTERS":return Object(p.a)({},e,{loading:!0});default:return Object(p.a)({},e,{loading:!1,error:!0})}},it={state:[],loading:!0,error:!1},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ALLOWANCES":return{state:t.payload,loading:!1,error:!1};case"LOADING_ALLOWANCES":return Object(p.a)({},e,{loading:!0});default:return Object(p.a)({},e,{loading:!1,error:!0})}},ot={state:[],loading:!0,error:!1},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PLACES":return{state:t.payload,loading:!1,error:!1};case"LOADING_PLACES":return Object(p.a)({},e,{loading:!0});default:return Object(p.a)({},e,{loading:!1,error:!0})}},ut={state:[],loading:!0,error:!1},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DEDUCTIONS":return{state:t.payload,loading:!1,error:!1};case"LOADING_DEDUCTIONS":return Object(p.a)({},e,{loading:!0});default:return Object(p.a)({},e,{loading:!1,error:!0})}},Et=function(){var e=Object(n.useState)({employees:[]}),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(d),m=l.users,o=l.employees,u=l.messages,p=l.department,E=l.letters,f=m.state,g=m.loading,v=(m.error,o.state),b=o.loading,N=(o.error,new Le(u.state,E.state,f,v,p.state)),h=N.UnFilter(N.getEmp_id());Object(n.useEffect)((function(){c((function(e){return{employees:h}}))}),[g,b]);return r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6"}),r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("div",{className:"search-wrapper active"},r.a.createElement("div",{className:"input-holder"},r.a.createElement("input",{type:"text",className:"search-input",placeholder:"type name,department,id",onChange:function(e){return t=e.target.value,c((function(e){return{employees:t?N.searchEmployee(t,h):h}}));var t}}),r.a.createElement("button",{className:"search-icon"},r.a.createElement("span",null))))))),r.a.createElement("div",{className:"main-card mb-3 min-height card"},v.length?a.employees.length?r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("h4",{className:"contact-header text-center"},"Employees"),r.a.createElement(Be.g,{bordered:!0,striped:!0},r.a.createElement(Be.i,null,r.a.createElement("tr",null,r.a.createElement("th",{className:"text-center"},"# employee id"),r.a.createElement("th",{className:"text-center"},r.a.createElement(A.a,{icon:k.K,className:"fa-1x text-danger mx-2"}),"name"),r.a.createElement("th",{className:"text-center"},r.a.createElement(A.a,{icon:k.z,className:"fa-1x text-danger mx-2"}),"Department"),r.a.createElement("th",{className:"text-center"},r.a.createElement(A.a,{icon:k.m,className:"fa-1x text-danger mx-2"})),r.a.createElement("th",{className:"text-center"},"status"))),r.a.createElement(Be.h,null,a.employees.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"text-center"},e.emp_id),r.a.createElement("td",{className:"text-center"},N.Name(e.emp_id)),r.a.createElement("td",{className:"text-center"},N.dpName(e.department)),r.a.createElement("td",{className:"text-center"},r.a.createElement(i.b,{to:"message/"+e.emp_id},N.isOnline(e.emp_id)?r.a.createElement("button",{className:"btn btn-success"},r.a.createElement(A.a,{icon:k.m,className:"fa-1x mx-2"}),"contact"):r.a.createElement("button",{className:"btn"},r.a.createElement(A.a,{icon:k.m,className:"fa-1x mx-2"}),"contact"))),r.a.createElement("td",{className:"text-center"},N.isOnline(e.emp_id)?r.a.createElement("p",null,r.a.createElement(A.a,{icon:k.k,className:"fa-1x text-success mx-2"}),"online"):r.a.createElement("p",null,r.a.createElement(A.a,{icon:k.k,className:"fa-1x mx-2"}),"offline")))}))))):r.a.createElement("p",null):r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("h2",{className:"text-center"},"No Employees registered"))))))},ft=function(){var e=Object(n.useState)({collapse:""}),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(d).employees,m=l.loading,u=l.error;return r.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+a.collapse},r.a.createElement(o.Provider,{value:{uiContents:a,togglers:c}},r.a.createElement(q,null),r.a.createElement("div",{className:"app-main"},r.a.createElement(pe,null),r.a.createElement("div",{className:"app-main__outer"},r.a.createElement("div",{className:"app-main__inner"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},r.a.createElement("h4",{className:"text-center"},r.a.createElement(i.c,{to:"/contact"},r.a.createElement(A.a,{icon:k.K,className:"fa-1x mx-2 text-danger"}),"Employees to contact"))))),m?r.a.createElement(Ae,null):u?r.a.createElement(ke,null):r.a.createElement(Et,null))))))};var gt=function(){var e=Object(n.useState)({collapse:""}),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(d),i=l.letters,m=l.users,u=l.employees,p=l.messages,E=l.department;return new Le(p.state,i.state,m.state,u.state,E.state),r.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+a.collapse},r.a.createElement(o.Provider,{value:{uiContents:a,togglers:c}},r.a.createElement(q,null),r.a.createElement("div",{className:"app-main"},r.a.createElement(pe,null),r.a.createElement("div",{className:"app-main__outer"},r.a.createElement("div",{className:"app-main__inner"},r.a.createElement(rt,null))))))},vt={state:[],loading:!0,error:!1},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MESSAGES":return{state:t.payload,loading:!1,error:!1};case"LOADING_MESSAGES":return Object(p.a)({},e,{loading:!0});default:return Object(p.a)({},e,{loading:!1,error:!0})}},Nt={state:[],loading:!0,error:!1},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CONNECTIONS":return{state:t.payload,loading:!1,error:!1};case"LOADING_CONNECTIONS":return Object(p.a)({},e,{loading:!0});default:return Object(p.a)({},e,{loading:!1,error:!0})}},_t=a(316),xt=a.n(_t),yt=function(){var e=Object(n.useState)({Letters:[],found:!1}),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(d),i=l.employees,m=l.users,o=l.messages,u=l.letters,E=l.socket,f=l.department,g=new Le(o.state,u.state,m.state,i.state,f.state);Object(n.useEffect)((function(){c(Object(p.a)({},a,{Letters:g.outBox()}))}),[u]);var v=g.outBox(),b=function(){E.emit("chat",""),E.emit("letters",""),E.on("chat",(function(e){var t=new Le(e,u.state,m.state,i.state,f.state);c((function(e){return Object(p.a)({},e,{Letters:t.outBox()})}))}))};return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 my-auto"},r.a.createElement(nt,{type:"Create_letter",typing:function(){return E.emit("typing_letter",{emp_id:o.getEmp_id()})},stop_typing:function(){return E.emit("typing_letter",{emp_id:""})}})),r.a.createElement("div",{className:"col-lg-5 my-auto"},r.a.createElement("div",{className:"search-wrapper active"},r.a.createElement("div",{className:"input-holder"},r.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type letter id,title and type",onChange:function(e){return t=e.target.value,c(Object(p.a)({},a,{Letters:""===t?v:g.searchLetters(t),found:""!==t}));var t}}),r.a.createElement("button",{className:"search-icon"},r.a.createElement("span",null))))),r.a.createElement("div",{className:"col-lg-4 my-auto"},r.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},r.a.createElement("div",{className:"widget-content-wrapper text-white"},r.a.createElement("div",{className:"widget-content-left"},r.a.createElement("div",{className:"widget-heading"},"Letters"),r.a.createElement("div",{className:"widget-subheading"},"Totall Made")),r.a.createElement("div",{className:"widget-content-right"},r.a.createElement("div",{className:"widget-numbers text-white"},r.a.createElement("span",null,v.length)))))),r.a.createElement("div",{className:"container mt-3 main-card mb-3 card min-height"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},a.found?r.a.createElement("h5",{className:"text-center"},"Letters found -",a.Letters.length):r.a.createElement("p",null),r.a.createElement(Be.g,{hover:!0,bordered:!0,striped:!0},r.a.createElement(Be.i,null,r.a.createElement("tr",null,r.a.createElement("th",null,"# Letter id"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.e,className:"mx-2"}),"created"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.g,className:"mx-2"}),"Progress"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.l,className:"mx-2"}),"Options"))),r.a.createElement(Be.h,null,a.Letters.length?a.Letters.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"text-center"},e.id),r.a.createElement("td",{className:"text-center"},e.title),r.a.createElement("td",{className:"text-center"},e.type),r.a.createElement("td",{className:"text-center"},r.a.createElement("p",{className:"font-italic"},_e(e.created_date)," ",r.a.createElement("br",null),je(e.created_date))),g.approval_managers(e._id).length?r.a.createElement("td",null,100===g.totallProgress(e._id)?r.a.createElement("p",{className:"font-weight-bold text-center text-success font-italic"},"Approval stage is completed"):r.a.createElement("div",{className:""},r.a.createElement(xt.a,{color:"info",value:g.totallProgress(e._id)}),g.totallProgress(e._id)+"%")):r.a.createElement("td",null,r.a.createElement("p",{className:"font-italic text-danger"},"The letter has no approval stage")),r.a.createElement("td",null,r.a.createElement(nt,{type:"view_letter",l_id:e._id}),r.a.createElement(nt,{type:"progress",l_id:e._id}),g.isModifiable(e._id)?r.a.createElement(nt,{type:"edit_letter",l_id:e._id}):r.a.createElement("p",null),g.isModifiable(e._id)?r.a.createElement(nt,{type:"delete_letter",l_id:e._id,emitter:b}):r.a.createElement("p",null)))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6},r.a.createElement("p",{className:"text-center font-weight-bold text-danger"},"No letters are created"))))))))))},Ot=function(){var e=Object(n.useState)({collapse:""}),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(d),m=l.letters,u=(l.employees,l.messages),p=l.users,E=l.department,f=m.loading,g=m.error,v=new Le(u.state,m.state,p.state,E.state),b=u.loading?0:v.newInboxLetters().length;return r.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+a.collapse},r.a.createElement(o.Provider,{value:{uiContents:a,togglers:c}},r.a.createElement(q,null),r.a.createElement("div",{className:"app-main"},r.a.createElement(pe,null),r.a.createElement("div",{className:"app-main__outer"},r.a.createElement("div",{className:"app-main__inner"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("h4",{className:"text-center"},r.a.createElement(i.c,{to:"/inbox"},r.a.createElement(A.a,{icon:k.r,className:"fa-1x mx-2 text-danger"}),"Inbox letters",b?r.a.createElement("h4",{className:"mx-1 text-info font-weight-bold"},r.a.createElement(A.a,{icon:k.c,className:"text-info mx-1"}),b):r.a.createElement("p",null)))),r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("h4",{className:"text-center"},r.a.createElement(i.c,{to:"/outbox"},r.a.createElement(A.a,{icon:k.s,className:"fa-1x mx-2 text-danger"}),"outbox letters"))))),f?r.a.createElement(Ae,null):g?r.a.createElement(ke,null):r.a.createElement(yt,null))))))},jt=a(656),wt=function(){var e=Object(n.useState)({newLetters:[],seenLetters:[],found:!1}),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(d),i=(l.socket,l.messages),m=l.letters,o=l.users,u=l.employees,E=l.department,f=new Le(i.state,m.state,o.state,u.state,E.state),g=f.InboxLetters();Object(n.useEffect)((function(){c((function(e){return Object(p.a)({},e,{newLetters:f.newInboxLetters(),seenLetters:f.seenInboxLetters()})}))}),[i.state,m.state]);return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 my-auto"}),r.a.createElement("div",{className:"col-lg-5 my-auto"},r.a.createElement("div",{className:"search-wrapper active"},r.a.createElement("div",{className:"input-holder"},r.a.createElement("input",{type:"text",className:"search-input",placeholder:"Type letter id,title and type",onChange:function(e){return t=e.target.value,c(Object(p.a)({},a,{newLetters:""===t?f.newInboxLetters():f.SearchLetters(t).newLetters,seenLetters:""===t?f.seenInboxLetters():f.SearchLetters(t).seenLetters,found:""!==t}));var t}}),r.a.createElement("button",{className:"search-icon"},r.a.createElement("span",null))))),r.a.createElement("div",{className:"col-lg-4 my-auto"},r.a.createElement("div",{className:"card mb-3 widget-content bg-grow-early"},r.a.createElement("div",{className:"widget-content-wrapper text-white"},r.a.createElement("div",{className:"widget-content-left"},r.a.createElement("div",{className:"widget-heading"},"Letters"),r.a.createElement("div",{className:"widget-subheading"},"Totall Recieved")),r.a.createElement("div",{className:"widget-content-right"},r.a.createElement("div",{className:"widget-numbers text-white"},r.a.createElement("span",null,g.length)))))),r.a.createElement("div",{className:"container mt-3 main-card mb-3 card min-height"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-12"},a.found?r.a.createElement("h5",{className:"text-center"},"Letters found -",a.newLetters.length+a.seenLetters.length):r.a.createElement("p",null),r.a.createElement(Be.g,{hover:!0,bordered:!0,striped:!0},r.a.createElement(Be.i,null,r.a.createElement("tr",null,r.a.createElement("th",null,"# Letter id"),r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Type"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.e,className:"mx-2"}),"created"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.g,className:"mx-2"}),"Decision made/Recieved"),r.a.createElement("th",null,r.a.createElement(A.a,{icon:k.l,className:"mx-2"}),"Options"))),r.a.createElement(Be.h,null,g.length?a.newLetters.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"text-center text-info"},e.id),r.a.createElement("td",{className:"text-center text-info"},e.title),r.a.createElement("td",{className:"text-center text-info"},e.type),r.a.createElement("td",{className:"text-center text-info"},r.a.createElement("p",{className:"font-italic text-info"},_e(e.created_date)," ",r.a.createElement("br",null),je(e.created_date))),r.a.createElement("td",null,f.manager_info(e._id)?"Approved"===f.manager_info(e._id).status?r.a.createElement("p",{className:"text-center text-success font-iatalic text-info"},r.a.createElement(A.a,{icon:k.h,className:"mx-2 fa-2x"}),"Approved"," ",r.a.createElement(jt.a,{date:f.manager_info(e._id).approved_date})," ",r.a.createElement("br",null),"at"," ",je(f.manager_info(e._id).approved_date)):"unApproved"===f.manager_info(e._id).status?r.a.createElement("p",{className:"text-center text-danger font-iatalic text-info"},r.a.createElement(A.a,{icon:k.P,className:"mx-2 fa-2x"}),"DisApproved"," ",r.a.createElement(jt.a,{date:f.manager_info(e._id).approved_date})," ",r.a.createElement("br",null),"at"," ",je(f.manager_info(e._id).approved_date)," ",r.a.createElement("br",null),"comment-",f.manager_info(e._id)?f.manager_info(e._id).comment:""):"waiting"===f.manager_info(e._id).status?r.a.createElement("p",{className:"text-center font-iatalic text-info"},r.a.createElement(A.a,{icon:k.p,className:"mx-2 fa-2x"}),"Approval letter waiting for your decision"):r.a.createElement("p",null):r.a.createElement("p",null),f.particpant_info(e._id)?f.particpant_info(e._id).seen?r.a.createElement("p",{className:"text-center font-italic text-info"},r.a.createElement(A.a,{icon:k.N,className:"mx-2 fa-2x text-success"}),"letter seen"):r.a.createElement("p",{className:"text-center font-italic text-info"},r.a.createElement(A.a,{icon:k.L,className:"mx-2 fa-2x"}),"waiting to review"):r.a.createElement("p",null)),r.a.createElement("td",null,r.a.createElement(nt,{type:"view_letter",l_id:e._id})))})):r.a.createElement("tr",null),g.length?a.seenLetters.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",{className:"text-center"},e.id),r.a.createElement("td",{className:"text-center"},e.title),r.a.createElement("td",{className:"text-center"},e.type),r.a.createElement("td",{className:"text-center"},r.a.createElement("p",{className:"font-italic"},_e(e.created_date)," ",r.a.createElement("br",null),je(e.created_date))),r.a.createElement("td",null,f.manager_info(e._id)?"Approved"===f.manager_info(e._id).status?r.a.createElement("p",{className:"text-center text-success font-iatalic"},r.a.createElement(A.a,{icon:k.h,className:"mx-2 fa-2x"}),"Approved"," ",r.a.createElement(jt.a,{date:f.manager_info(e._id).approved_date})," ",r.a.createElement("br",null),"at"," ",je(f.manager_info(e._id).approved_date)):"unApproved"===f.manager_info(e._id).status?r.a.createElement("p",{className:"text-center text-danger font-iatalic"},r.a.createElement(A.a,{icon:k.P,className:"mx-2 fa-2x"}),"DisApproved"," ",r.a.createElement(jt.a,{date:f.manager_info(e._id).approved_date})," ",r.a.createElement("br",null),"at"," ",je(f.manager_info(e._id).approved_date)," ",r.a.createElement("br",null),"comment-",f.manager_info(e._id)?f.manager_info(e._id).comment:""):"waiting"===f.manager_info(e._id).status?r.a.createElement("p",{className:"text-center font-iatalic"},r.a.createElement(A.a,{icon:k.p,className:"mx-2 fa-2x"}),"Approval letter waiting for your decision"):r.a.createElement("p",null):r.a.createElement("p",null),f.particpant_info(e._id)?f.particpant_info(e._id).seen?r.a.createElement("p",{className:"text-center font-italic"},r.a.createElement(A.a,{icon:k.N,className:"mx-2 fa-2x text-success"}),"letter seen"):r.a.createElement("p",{className:"text-center font-italic"},r.a.createElement(A.a,{icon:k.M,className:"mx-2 fa-2x"}),"waiting to review"):r.a.createElement("p",null)),r.a.createElement("td",null,r.a.createElement(nt,{type:"view_letter",l_id:e._id}),f.isApprovable(e._id)?r.a.createElement(nt,{type:"approve",l_id:e._id}):r.a.createElement("p",null)))})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6},r.a.createElement("p",{className:"text-center text-danger font-weight-bold my-2"},"No Letters ar recieved"))))))))))},Ct=function(){var e=Object(n.useState)({collapse:""}),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(d),m=l.letters,u=l.employees,p=l.messages,E=l.users,f=l.connections,g=m.loading,v=m.error,b=p.loading,N=p.error,h=new Le(p.state,f.state,m.state,E.state,u.state),_=p.loading?0:h.newInboxLetters().length;return r.a.createElement("div",{className:"app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header "+a.collapse},r.a.createElement(o.Provider,{value:{uiContents:a,togglers:c}},r.a.createElement(q,null),r.a.createElement("div",{className:"app-main"},r.a.createElement(pe,null),r.a.createElement("div",{className:"app-main__outer"},r.a.createElement("div",{className:"app-main__inner"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("h4",{className:"text-center"},r.a.createElement(i.c,{to:"/inbox"},r.a.createElement(A.a,{icon:k.r,className:"fa-1x mx-2 text-danger"}),"Inbox letters",_?r.a.createElement("h4",{className:"mx-1 text-info font-weight-bold"},r.a.createElement(A.a,{icon:k.c,className:"text-info mx-1"}),_):r.a.createElement("p",null)))),r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("h4",{className:"text-center"},r.a.createElement(i.c,{to:"/outbox"},r.a.createElement(A.a,{icon:k.s,className:"fa-1x mx-2 text-danger"}),"outbox letters"))))),b||g?r.a.createElement(Ae,null):v||N?r.a.createElement(ke,null):r.a.createElement(wt,null))))))},St=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(s.a)(l,2),u=o[0],p=o[1],O=Object(n.useState)(""),A=Object(s.a)(O,2),k=A[0],D=A[1],I=Object(n.useReducer)(f,E),R=Object(s.a)(I,2),P=R[0],T=R[1],M=Object(n.useReducer)(v,g),U=Object(s.a)(M,2),F=U[0],z=U[1],G=Object(n.useReducer)(N,b),q=Object(s.a)(G,2),B=q[0],Y=q[1],W=Object(n.useReducer)(_,h),K=Object(s.a)(W,2),J=K[0],V=K[1],H=Object(n.useReducer)(y,x),X=Object(s.a)(H,2),$=X[0],Q=X[1],Z=Object(n.useReducer)(C,w),ee=Object(s.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useReducer)(L,S),re=Object(s.a)(ne,2),ce=re[0],le=re[1],se=Object(n.useReducer)(st,lt),ie=Object(s.a)(se,2),me=ie[0],oe=ie[1],de=Object(n.useReducer)(mt,it),ue=Object(s.a)(de,2),pe=ue[0],Ee=ue[1],ge=Object(n.useReducer)(dt,ot),ve=Object(s.a)(ge,2),be=ve[0],Ne=ve[1],he=Object(n.useReducer)(pt,ut),_e=Object(s.a)(he,2),xe=_e[0],ye=_e[1],Oe=Object(n.useReducer)(bt,vt),je=Object(s.a)(Oe,2),we=je[0],Ce=je[1],Se=Object(n.useReducer)(ht,Nt),Le=Object(s.a)(Se,2),Ae=Le[0],ke=Le[1];return r.a.createElement(d.Provider,{value:{socket:k,setSocket:D,messages:we,dispatchMessages:Ce,typing:a,setTyping:c,Ltyping:u,setLTyping:p,connections:Ae,dispatchConnections:ke,allowances:pe,dispatchAllowances:Ee,employees:P,dispatchEmployees:T,department:F,dispatchDepartment:z,place:B,dispatchPlaces:Y,users:J,dispatchUsers:V,fieldEmployees:$,dispatchFieldEmplooyees:Q,config:te,dispatchConfig:ae,company:ce,dispatchCompany:le,letters:me,dispatchLetters:oe,climatePlaces:be,dispatchClimatePlaces:Ne,deductions:xe,dispatchDeductions:ye}},r.a.createElement(j.a,{isHydrating:!0,type:"text/javascript",src:"./css/assets/scripts/main.js"}),r.a.createElement(i.a,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/"},r.a.createElement(fe,null)),r.a.createElement(m.a,{path:"/message/:id"},r.a.createElement(gt,null)),r.a.createElement(m.a,{path:"/message"},r.a.createElement(ct,null)),r.a.createElement(m.a,{path:"/contact"},r.a.createElement(ft,null)),r.a.createElement(m.a,{path:"/outbox"},r.a.createElement(Ot,null)),r.a.createElement(m.a,{path:"/inbox"},r.a.createElement(Ct,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Lt=a(305),At=a(317),kt=a(318);Lt.a.addLocale(At),Lt.a.addLocale(kt),l.a.render(r.a.createElement(St,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[320,1,2]]]);
//# sourceMappingURL=main.2d9cb88a.chunk.js.map